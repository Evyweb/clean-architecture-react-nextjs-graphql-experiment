<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>dependency graph</title>
    <style>
      .node:active path,
.node:hover path,
.node.current path,
.node:active polygon,
.node:hover polygon,
.node.current polygon {
  stroke: fuchsia;
  stroke-width: 2;
}

.edge:active path,
.edge:hover path,
.edge.current path,
.edge:active ellipse,
.edge:hover ellipse,
.edge.current ellipse {
  stroke: url(#edgeGradient);
  stroke-width: 3;
  stroke-opacity: 1;
}

.edge:active polygon,
.edge:hover polygon,
.edge.current polygon {
  stroke: fuchsia;
  stroke-width: 3;
  fill: fuchsia;
  stroke-opacity: 1;
  fill-opacity: 1;
}

.edge:active text,
.edge:hover text {
  fill: fuchsia;
}

.cluster path {
  stroke-width: 3;
}

.cluster:active path,
.cluster:hover path {
  fill: #ffff0011;
}

div.hint {
  background-color: #000000aa;
  color: white;
  font-family: Arial, Helvetica, sans-serif;
  border-radius: 1rem;
  position: fixed;
  top: calc(50% - 4em);
  right: calc(50% - 10em);
  border: none;
  padding: 1em 3em 1em 1em;
}

.hint button {
  position: absolute;
  font-weight: bolder;
  right: 0.6em;
  top: 0.6em;
  color: inherit;
  background-color: inherit;
  border: 1px solid currentColor;
  border-radius: 1em;
  margin-left: 0.6em;
}

.hint a {
  color: inherit;
}

#button_help {
  color: white;
  background-color: #00000011;
  border-radius: 1em;
  position: fixed;
  top: 1em;
  right: 1em;
  font-size: 24pt;
  font-weight: bolder;
  width: 2em;
  height: 2em;
  border: none;
}

#button_help:hover {
  cursor: pointer;
  background-color: #00000077;
}

@media print {
  #button_help {
    display: none;
  }

  div.hint {
    display: none;
  }
}

    </style>
  </head>
  <body>
    <button id="button_help">?</button>
    <div id="hints" class="hint" style="display: none">
      <button id="close-hints">x</button>
      <span id="hint-text"></span>
      <ul>
        <li><b>Hover</b> - highlight</li>
        <li><b>Right-click</b> - pin highlight</li>
        <li><b>ESC</b> - clear</li>
      </ul>
    </div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.0 (20241103.1931)
 -->
<!-- Title: dependency&#45;cruiser output Pages: 1 -->
<svg width="630pt" height="503pt"
 viewBox="0.00 0.00 629.75 503.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 499)">
<title>dependency&#45;cruiser output</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-499 625.75,-499 625.75,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_src</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M20,-8C20,-8 601.75,-8 601.75,-8 607.75,-8 613.75,-14 613.75,-20 613.75,-20 613.75,-475 613.75,-475 613.75,-481 607.75,-487 601.75,-487 601.75,-487 20,-487 20,-487 14,-487 8,-481 8,-475 8,-475 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="middle" x="310.88" y="-474.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">src</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_src/client</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M28,-16C28,-16 593.75,-16 593.75,-16 599.75,-16 605.75,-22 605.75,-28 605.75,-28 605.75,-448 605.75,-448 605.75,-454 599.75,-460 593.75,-460 593.75,-460 28,-460 28,-460 22,-460 16,-454 16,-448 16,-448 16,-28 16,-28 16,-22 22,-16 28,-16"/>
<text text-anchor="middle" x="310.88" y="-447.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">client</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_src/client/application</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M36.75,-116C36.75,-116 496.62,-116 496.62,-116 502.62,-116 508.62,-122 508.62,-128 508.62,-128 508.62,-254 508.62,-254 508.62,-260 502.62,-266 496.62,-266 496.62,-266 36.75,-266 36.75,-266 30.75,-266 24.75,-260 24.75,-254 24.75,-254 24.75,-128 24.75,-128 24.75,-122 30.75,-116 36.75,-116"/>
<text text-anchor="middle" x="266.69" y="-253.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">application</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_src/client/application/ports</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M216,-124C216,-124 488.62,-124 488.62,-124 494.62,-124 500.62,-130 500.62,-136 500.62,-136 500.62,-227 500.62,-227 500.62,-233 494.62,-239 488.62,-239 488.62,-239 216,-239 216,-239 210,-239 204,-233 204,-227 204,-227 204,-136 204,-136 204,-130 210,-124 216,-124"/>
<text text-anchor="middle" x="352.31" y="-226.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">ports</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_src/client/application/usecases</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M44.75,-139C44.75,-139 183.25,-139 183.25,-139 189.25,-139 195.25,-145 195.25,-151 195.25,-151 195.25,-211 195.25,-211 195.25,-217 189.25,-223 183.25,-223 183.25,-223 44.75,-223 44.75,-223 38.75,-223 32.75,-217 32.75,-211 32.75,-211 32.75,-151 32.75,-151 32.75,-145 38.75,-139 44.75,-139"/>
<text text-anchor="middle" x="114" y="-210.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">usecases</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_src/client/domain</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M529,-153C529,-153 585.75,-153 585.75,-153 591.75,-153 597.75,-159 597.75,-165 597.75,-165 597.75,-194 597.75,-194 597.75,-200 591.75,-206 585.75,-206 585.75,-206 529,-206 529,-206 523,-206 517,-200 517,-194 517,-194 517,-165 517,-165 517,-159 523,-153 529,-153"/>
<text text-anchor="middle" x="557.38" y="-193.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">domain</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_src/client/infrastructure</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M56,-24C56,-24 477.38,-24 477.38,-24 483.38,-24 489.38,-30 489.38,-36 489.38,-36 489.38,-96 489.38,-96 489.38,-102 483.38,-108 477.38,-108 477.38,-108 56,-108 56,-108 50,-108 44,-102 44,-96 44,-96 44,-36 44,-36 44,-30 50,-24 56,-24"/>
<text text-anchor="middle" x="266.69" y="-95.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">infrastructure</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_src/client/presentation</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M36,-274C36,-274 497,-274 497,-274 503,-274 509,-280 509,-286 509,-286 509,-421 509,-421 509,-427 503,-433 497,-433 497,-433 36,-433 36,-433 30,-433 24,-427 24,-421 24,-421 24,-286 24,-286 24,-280 30,-274 36,-274"/>
<text text-anchor="middle" x="266.5" y="-420.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">presentation</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_src/client/presentation/controllers</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M44,-297C44,-297 184,-297 184,-297 190,-297 196,-303 196,-309 196,-309 196,-369 196,-369 196,-375 190,-381 184,-381 184,-381 44,-381 44,-381 38,-381 32,-375 32,-369 32,-369 32,-309 32,-309 32,-303 38,-297 44,-297"/>
<text text-anchor="middle" x="114" y="-368.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">controllers</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_src/client/presentation/presenters</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M221.25,-343C221.25,-343 336.5,-343 336.5,-343 342.5,-343 348.5,-349 348.5,-355 348.5,-355 348.5,-384 348.5,-384 348.5,-390 342.5,-396 336.5,-396 336.5,-396 221.25,-396 221.25,-396 215.25,-396 209.25,-390 209.25,-384 209.25,-384 209.25,-355 209.25,-355 209.25,-349 215.25,-343 221.25,-343"/>
<text text-anchor="middle" x="278.88" y="-383.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">presenters</text>
</g>
<g id="clust11" class="cluster">
<title>cluster_src/client/presentation/requests</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M219,-282C219,-282 338.75,-282 338.75,-282 344.75,-282 350.75,-288 350.75,-294 350.75,-294 350.75,-323 350.75,-323 350.75,-329 344.75,-335 338.75,-335 338.75,-335 219,-335 219,-335 213,-335 207,-329 207,-323 207,-323 207,-294 207,-294 207,-288 213,-282 219,-282"/>
<text text-anchor="middle" x="278.88" y="-322.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">requests</text>
</g>
<g id="clust12" class="cluster">
<title>cluster_src/client/presentation/viewModels</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M370.75,-320C370.75,-320 489,-320 489,-320 495,-320 501,-326 501,-332 501,-332 501,-361 501,-361 501,-367 495,-373 489,-373 489,-373 370.75,-373 370.75,-373 364.75,-373 358.75,-367 358.75,-361 358.75,-361 358.75,-332 358.75,-332 358.75,-326 364.75,-320 370.75,-320"/>
<text text-anchor="middle" x="429.88" y="-360.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">viewModels</text>
</g>
<!-- src/client/application/ports/ICharacterRepository.ts -->
<g id="node1" class="node">
<title>src/client/application/ports/ICharacterRepository.ts</title>
<g id="a_node1"><a xlink:href="src/client/application/ports/ICharacterRepository.ts" xlink:title="ICharacterRepository.ts">
<polygon fill="#fb6969" stroke="black" points="334.5,-150.25 223.25,-150.25 223.25,-131.75 334.5,-131.75 334.5,-150.25"/>
<text text-anchor="start" x="231.25" y="-137.7" font-family="Helvetica,sans-Serif" font-size="9.00">ICharacterRepository.ts</text>
</a>
</g>
</g>
<!-- src/client/domain/Character.ts -->
<g id="node2" class="node">
<title>src/client/domain/Character.ts</title>
<g id="a_node2"><a xlink:href="src/client/domain/Character.ts" xlink:title="Character.ts">
<polygon fill="#fa9f36" stroke="black" points="589.75,-179.25 525,-179.25 525,-160.75 589.75,-160.75 589.75,-179.25"/>
<text text-anchor="start" x="533" y="-166.7" font-family="Helvetica,sans-Serif" font-size="9.00">Character.ts</text>
</a>
</g>
</g>
<!-- src/client/application/ports/ICharacterRepository.ts&#45;&gt;src/client/domain/Character.ts -->
<g id="edge1" class="edge">
<title>src/client/application/ports/ICharacterRepository.ts&#45;&gt;src/client/domain/Character.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M334.83,-146.76C388.25,-152.37 468.1,-160.74 515.93,-165.76"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="515.57,-167.83 521.76,-166.37 516.01,-163.65 515.57,-167.83"/>
</g>
<!-- src/client/application/ports/ICreateCharacterUseCase.ts -->
<g id="node3" class="node">
<title>src/client/application/ports/ICreateCharacterUseCase.ts</title>
<g id="a_node3"><a xlink:href="src/client/application/ports/ICreateCharacterUseCase.ts" xlink:title="ICreateCharacterUseCase.ts">
<polygon fill="#fb6969" stroke="black" points="345.75,-212.25 212,-212.25 212,-193.75 345.75,-193.75 345.75,-212.25"/>
<text text-anchor="start" x="220" y="-199.7" font-family="Helvetica,sans-Serif" font-size="9.00">ICreateCharacterUseCase.ts</text>
</a>
</g>
</g>
<!-- src/client/application/ports/IGetCharactersPresenter.ts -->
<g id="node4" class="node">
<title>src/client/application/ports/IGetCharactersPresenter.ts</title>
<g id="a_node4"><a xlink:href="src/client/application/ports/IGetCharactersPresenter.ts" xlink:title="IGetCharactersPresenter.ts">
<polygon fill="#fb6969" stroke="black" points="492.62,-196.25 367.12,-196.25 367.12,-177.75 492.62,-177.75 492.62,-196.25"/>
<text text-anchor="start" x="375.12" y="-183.7" font-family="Helvetica,sans-Serif" font-size="9.00">IGetCharactersPresenter.ts</text>
</a>
</g>
</g>
<!-- src/client/application/ports/IGetCharactersPresenter.ts&#45;&gt;src/client/domain/Character.ts -->
<g id="edge2" class="edge">
<title>src/client/application/ports/IGetCharactersPresenter.ts&#45;&gt;src/client/domain/Character.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M492.89,-178.6C500.79,-177.53 508.71,-176.46 516.14,-175.45"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="515.94,-177.6 521.61,-174.71 515.38,-173.43 515.94,-177.6"/>
</g>
<!-- src/client/application/ports/IGetCharactersUseCase.ts -->
<g id="node5" class="node">
<title>src/client/application/ports/IGetCharactersUseCase.ts</title>
<g id="a_node5"><a xlink:href="src/client/application/ports/IGetCharactersUseCase.ts" xlink:title="IGetCharactersUseCase.ts">
<polygon fill="#fb6969" stroke="black" points="341.25,-181.25 216.5,-181.25 216.5,-162.75 341.25,-162.75 341.25,-181.25"/>
<text text-anchor="start" x="224.5" y="-168.7" font-family="Helvetica,sans-Serif" font-size="9.00">IGetCharactersUseCase.ts</text>
</a>
</g>
</g>
<!-- src/client/application/ports/IGetCharactersUseCase.ts&#45;&gt;src/client/application/ports/IGetCharactersPresenter.ts -->
<g id="edge3" class="edge">
<title>src/client/application/ports/IGetCharactersUseCase.ts&#45;&gt;src/client/application/ports/IGetCharactersPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M341.34,-178.19C346.92,-178.75 352.59,-179.32 358.24,-179.89"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="357.88,-181.96 364.06,-180.47 358.3,-177.78 357.88,-181.96"/>
</g>
<!-- src/client/application/usecases/useCreateCharacterUseCase.ts -->
<g id="node6" class="node">
<title>src/client/application/usecases/useCreateCharacterUseCase.ts</title>
<g id="a_node6"><a xlink:href="src/client/application/usecases/useCreateCharacterUseCase.ts" xlink:title="useCreateCharacterUseCase.ts">
<polygon fill="#fb6969" stroke="black" points="187.25,-165.25 40.75,-165.25 40.75,-146.75 187.25,-146.75 187.25,-165.25"/>
<text text-anchor="start" x="48.75" y="-152.7" font-family="Helvetica,sans-Serif" font-size="9.00">useCreateCharacterUseCase.ts</text>
</a>
</g>
</g>
<!-- src/client/application/usecases/useCreateCharacterUseCase.ts&#45;&gt;src/client/application/ports/ICharacterRepository.ts -->
<g id="edge4" class="edge">
<title>src/client/application/usecases/useCreateCharacterUseCase.ts&#45;&gt;src/client/application/ports/ICharacterRepository.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M187.39,-149.33C196.22,-148.52 205.19,-147.69 213.88,-146.89"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="214.03,-148.99 219.81,-146.35 213.64,-144.81 214.03,-148.99"/>
</g>
<!-- src/client/application/usecases/useCreateCharacterUseCase.ts&#45;&gt;src/client/application/ports/ICreateCharacterUseCase.ts -->
<g id="edge5" class="edge">
<title>src/client/application/usecases/useCreateCharacterUseCase.ts&#45;&gt;src/client/application/ports/ICreateCharacterUseCase.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M185.24,-165.59C189.04,-167.4 192.66,-169.52 196,-172 202.07,-176.5 197.97,-182.45 204,-187 204.91,-187.69 205.85,-188.35 206.81,-188.99"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="205.62,-190.72 211.87,-191.84 207.68,-187.07 205.62,-190.72"/>
</g>
<!-- src/client/application/usecases/useGetCharactersUseCase.ts -->
<g id="node7" class="node">
<title>src/client/application/usecases/useGetCharactersUseCase.ts</title>
<g id="a_node7"><a xlink:href="src/client/application/usecases/useGetCharactersUseCase.ts" xlink:title="useGetCharactersUseCase.ts">
<polygon fill="#fb6969" stroke="black" points="182.75,-196.25 45.25,-196.25 45.25,-177.75 182.75,-177.75 182.75,-196.25"/>
<text text-anchor="start" x="53.25" y="-183.7" font-family="Helvetica,sans-Serif" font-size="9.00">useGetCharactersUseCase.ts</text>
</a>
</g>
</g>
<!-- src/client/application/usecases/useGetCharactersUseCase.ts&#45;&gt;src/client/application/ports/IGetCharactersPresenter.ts -->
<g id="edge6" class="edge">
<title>src/client/application/usecases/useGetCharactersUseCase.ts&#45;&gt;src/client/application/ports/IGetCharactersPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M136.41,-196.74C154.11,-204.23 180.12,-213.96 204,-218 268.31,-228.88 286.69,-230.25 350.75,-218 368.48,-214.61 387.32,-207.26 402.06,-200.56"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="402.94,-202.47 407.48,-198.02 401.16,-198.67 402.94,-202.47"/>
</g>
<!-- src/client/application/usecases/useGetCharactersUseCase.ts&#45;&gt;src/client/application/ports/IGetCharactersUseCase.ts -->
<g id="edge7" class="edge">
<title>src/client/application/usecases/useGetCharactersUseCase.ts&#45;&gt;src/client/application/ports/IGetCharactersUseCase.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M183.13,-180.73C191.11,-179.99 199.27,-179.24 207.28,-178.5"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="207.45,-180.59 213.23,-177.95 207.07,-176.41 207.45,-180.59"/>
</g>
<!-- src/client/infrastructure/GetCharactersDTO.ts -->
<g id="node8" class="node">
<title>src/client/infrastructure/GetCharactersDTO.ts</title>
<g id="a_node8"><a xlink:href="src/client/infrastructure/GetCharactersDTO.ts" xlink:title="GetCharactersDTO.ts">
<polygon fill="#6cbaff" stroke="black" points="481.38,-81.25 378.38,-81.25 378.38,-62.75 481.38,-62.75 481.38,-81.25"/>
<text text-anchor="start" x="386.38" y="-68.7" font-family="Helvetica,sans-Serif" font-size="9.00">GetCharactersDTO.ts</text>
</a>
</g>
</g>
<!-- src/client/infrastructure/useCharacterRepository.ts -->
<g id="node9" class="node">
<title>src/client/infrastructure/useCharacterRepository.ts</title>
<g id="a_node9"><a xlink:href="src/client/infrastructure/useCharacterRepository.ts" xlink:title="useCharacterRepository.ts">
<polygon fill="#6cbaff" stroke="black" points="176,-81.25 52,-81.25 52,-62.75 176,-62.75 176,-81.25"/>
<text text-anchor="start" x="60" y="-68.7" font-family="Helvetica,sans-Serif" font-size="9.00">useCharacterRepository.ts</text>
</a>
</g>
</g>
<!-- src/client/infrastructure/useCharacterRepository.ts&#45;&gt;src/client/application/ports/ICharacterRepository.ts -->
<g id="edge8" class="edge">
<title>src/client/infrastructure/useCharacterRepository.ts&#45;&gt;src/client/application/ports/ICharacterRepository.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M136.51,-81.62C154.49,-89.62 180.84,-101.23 204,-111 217.5,-116.7 232.46,-122.81 245.37,-128.02"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="244.36,-129.88 250.71,-130.17 245.93,-125.98 244.36,-129.88"/>
</g>
<!-- src/client/infrastructure/useCharacterRepository.ts&#45;&gt;src/client/domain/Character.ts -->
<g id="edge9" class="edge">
<title>src/client/infrastructure/useCharacterRepository.ts&#45;&gt;src/client/domain/Character.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M169.52,-81.69C180.9,-83.57 192.83,-85.44 204,-87 339.08,-105.9 386.58,-60.86 509,-121 523.84,-128.29 536.6,-142.22 545.12,-153.37"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="543.32,-154.46 548.54,-158.08 546.72,-152 543.32,-154.46"/>
</g>
<!-- src/client/infrastructure/useCreateCharacterMutation.ts -->
<g id="node10" class="node">
<title>src/client/infrastructure/useCreateCharacterMutation.ts</title>
<g id="a_node10"><a xlink:href="src/client/infrastructure/useCreateCharacterMutation.ts" xlink:title="useCreateCharacterMutation.ts">
<polygon fill="#6cbaff" stroke="black" points="350.62,-50.25 207.12,-50.25 207.12,-31.75 350.62,-31.75 350.62,-50.25"/>
<text text-anchor="start" x="215.12" y="-37.7" font-family="Helvetica,sans-Serif" font-size="9.00">useCreateCharacterMutation.ts</text>
</a>
</g>
</g>
<!-- src/client/infrastructure/useCharacterRepository.ts&#45;&gt;src/client/infrastructure/useCreateCharacterMutation.ts -->
<g id="edge10" class="edge">
<title>src/client/infrastructure/useCharacterRepository.ts&#45;&gt;src/client/infrastructure/useCreateCharacterMutation.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M166.09,-62.28C182.53,-59.15 200.9,-55.65 217.93,-52.41"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="218.21,-54.49 223.71,-51.31 217.43,-50.37 218.21,-54.49"/>
</g>
<!-- src/client/infrastructure/useGetCharactersQuery.ts -->
<g id="node11" class="node">
<title>src/client/infrastructure/useGetCharactersQuery.ts</title>
<g id="a_node11"><a xlink:href="src/client/infrastructure/useGetCharactersQuery.ts" xlink:title="useGetCharactersQuery.ts">
<polygon fill="#6cbaff" stroke="black" points="340.5,-81.25 217.25,-81.25 217.25,-62.75 340.5,-62.75 340.5,-81.25"/>
<text text-anchor="start" x="225.25" y="-68.7" font-family="Helvetica,sans-Serif" font-size="9.00">useGetCharactersQuery.ts</text>
</a>
</g>
</g>
<!-- src/client/infrastructure/useCharacterRepository.ts&#45;&gt;src/client/infrastructure/useGetCharactersQuery.ts -->
<g id="edge11" class="edge">
<title>src/client/infrastructure/useCharacterRepository.ts&#45;&gt;src/client/infrastructure/useGetCharactersQuery.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M176.11,-72C186.55,-72 197.46,-72 208.1,-72"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="207.94,-74.1 213.94,-72 207.94,-69.9 207.94,-74.1"/>
</g>
<!-- src/client/infrastructure/useGetCharactersQuery.ts&#45;&gt;src/client/infrastructure/GetCharactersDTO.ts -->
<g id="edge12" class="edge">
<title>src/client/infrastructure/useGetCharactersQuery.ts&#45;&gt;src/client/infrastructure/GetCharactersDTO.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M340.91,-72C350.29,-72 359.96,-72 369.31,-72"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="369.12,-74.1 375.12,-72 369.12,-69.9 369.12,-74.1"/>
</g>
<!-- src/client/presentation/controllers/useCreateCharacterController.ts -->
<g id="node12" class="node">
<title>src/client/presentation/controllers/useCreateCharacterController.ts</title>
<g id="a_node12"><a xlink:href="src/client/presentation/controllers/useCreateCharacterController.ts" xlink:title="useCreateCharacterController.ts">
<polygon fill="#9fff9f" stroke="black" points="188,-323.25 40,-323.25 40,-304.75 188,-304.75 188,-323.25"/>
<text text-anchor="start" x="48" y="-310.7" font-family="Helvetica,sans-Serif" font-size="9.00">useCreateCharacterController.ts</text>
</a>
</g>
</g>
<!-- src/client/presentation/controllers/useCreateCharacterController.ts&#45;&gt;src/client/application/ports/ICreateCharacterUseCase.ts -->
<g id="edge13" class="edge">
<title>src/client/presentation/controllers/useCreateCharacterController.ts&#45;&gt;src/client/application/ports/ICreateCharacterUseCase.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M129.17,-304.34C157.81,-284.83 222.72,-240.59 256.52,-217.56"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="257.35,-219.53 261.12,-214.42 254.98,-216.06 257.35,-219.53"/>
</g>
<!-- src/client/presentation/requests/CreateCharacterRequest.ts -->
<g id="node13" class="node">
<title>src/client/presentation/requests/CreateCharacterRequest.ts</title>
<g id="a_node13"><a xlink:href="src/client/presentation/requests/CreateCharacterRequest.ts" xlink:title="CreateCharacterRequest.ts">
<polygon fill="#9fff9f" stroke="black" points="342.75,-308.25 215,-308.25 215,-289.75 342.75,-289.75 342.75,-308.25"/>
<text text-anchor="start" x="223" y="-295.7" font-family="Helvetica,sans-Serif" font-size="9.00">CreateCharacterRequest.ts</text>
</a>
</g>
</g>
<!-- src/client/presentation/controllers/useCreateCharacterController.ts&#45;&gt;src/client/presentation/requests/CreateCharacterRequest.ts -->
<g id="edge14" class="edge">
<title>src/client/presentation/controllers/useCreateCharacterController.ts&#45;&gt;src/client/presentation/requests/CreateCharacterRequest.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M188.34,-307.25C194.1,-306.72 199.92,-306.18 205.67,-305.65"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="205.85,-307.74 211.63,-305.1 205.47,-303.56 205.85,-307.74"/>
</g>
<!-- src/client/presentation/controllers/useGetCharactersController.ts -->
<g id="node14" class="node">
<title>src/client/presentation/controllers/useGetCharactersController.ts</title>
<g id="a_node14"><a xlink:href="src/client/presentation/controllers/useGetCharactersController.ts" xlink:title="useGetCharactersController.ts">
<polygon fill="#9fff9f" stroke="black" points="183.5,-354.25 44.5,-354.25 44.5,-335.75 183.5,-335.75 183.5,-354.25"/>
<text text-anchor="start" x="52.5" y="-341.7" font-family="Helvetica,sans-Serif" font-size="9.00">useGetCharactersController.ts</text>
</a>
</g>
</g>
<!-- src/client/presentation/presenters/GetCharactersPresenter.ts -->
<g id="node15" class="node">
<title>src/client/presentation/presenters/GetCharactersPresenter.ts</title>
<g id="a_node15"><a xlink:href="src/client/presentation/presenters/GetCharactersPresenter.ts" xlink:title="GetCharactersPresenter.ts">
<polygon fill="#9fff9f" stroke="black" points="340.5,-369.25 217.25,-369.25 217.25,-350.75 340.5,-350.75 340.5,-369.25"/>
<text text-anchor="start" x="225.25" y="-356.7" font-family="Helvetica,sans-Serif" font-size="9.00">GetCharactersPresenter.ts</text>
</a>
</g>
</g>
<!-- src/client/presentation/controllers/useGetCharactersController.ts&#45;&gt;src/client/presentation/presenters/GetCharactersPresenter.ts -->
<g id="edge15" class="edge">
<title>src/client/presentation/controllers/useGetCharactersController.ts&#45;&gt;src/client/presentation/presenters/GetCharactersPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M183.6,-351.32C191.71,-352.06 199.99,-352.83 208.12,-353.58"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="207.67,-355.64 213.84,-354.1 208.06,-351.46 207.67,-355.64"/>
</g>
<!-- src/client/presentation/viewModels/GetCharactersResponse.ts -->
<g id="node16" class="node">
<title>src/client/presentation/viewModels/GetCharactersResponse.ts</title>
<g id="a_node16"><a xlink:href="src/client/presentation/viewModels/GetCharactersResponse.ts" xlink:title="GetCharactersResponse.ts">
<polygon fill="#9fff9f" stroke="black" points="493,-346.25 366.75,-346.25 366.75,-327.75 493,-327.75 493,-346.25"/>
<text text-anchor="start" x="374.75" y="-333.7" font-family="Helvetica,sans-Serif" font-size="9.00">GetCharactersResponse.ts</text>
</a>
</g>
</g>
<!-- src/client/presentation/controllers/useGetCharactersController.ts&#45;&gt;src/client/presentation/viewModels/GetCharactersResponse.ts -->
<g id="edge16" class="edge">
<title>src/client/presentation/controllers/useGetCharactersController.ts&#45;&gt;src/client/presentation/viewModels/GetCharactersResponse.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M126.12,-354.57C142.09,-367.61 173.02,-390.34 204,-399 266.81,-416.57 289.16,-420.47 350.75,-399 376.84,-389.91 400.76,-368.06 415.07,-352.89"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="416.41,-354.55 418.91,-348.7 413.31,-351.71 416.41,-354.55"/>
</g>
<!-- src/client/presentation/presenters/GetCharactersPresenter.ts&#45;&gt;src/client/domain/Character.ts -->
<g id="edge18" class="edge">
<title>src/client/presentation/presenters/GetCharactersPresenter.ts&#45;&gt;src/client/domain/Character.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M300.32,-369.66C343.95,-388.71 447.23,-425.18 509,-376 538.42,-352.58 551.1,-234.61 554.99,-188.51"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="557.07,-188.75 555.46,-182.6 552.89,-188.41 557.07,-188.75"/>
</g>
<!-- src/client/presentation/presenters/GetCharactersPresenter.ts&#45;&gt;src/client/application/ports/IGetCharactersPresenter.ts -->
<g id="edge17" class="edge">
<title>src/client/presentation/presenters/GetCharactersPresenter.ts&#45;&gt;src/client/application/ports/IGetCharactersPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M330.98,-350.36C338.23,-347.31 345.11,-343.29 350.75,-338 358.03,-331.16 354.59,-326.08 358.75,-317 377.75,-275.49 404.23,-228.85 418.61,-204.29"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="420.38,-205.41 421.62,-199.17 416.76,-203.28 420.38,-205.41"/>
</g>
<!-- src/client/presentation/presenters/GetCharactersPresenter.ts&#45;&gt;src/client/presentation/viewModels/GetCharactersResponse.ts -->
<g id="edge19" class="edge">
<title>src/client/presentation/presenters/GetCharactersPresenter.ts&#45;&gt;src/client/presentation/viewModels/GetCharactersResponse.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M340.91,-350.58C346.5,-349.72 352.19,-348.84 357.86,-347.96"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="358.13,-350.05 363.74,-347.05 357.49,-345.89 358.13,-350.05"/>
</g>
</g>
</svg>
    <script>
      var gMode = new Mode();

var title2ElementMap = (function makeElementMap() {
  /** @type {NodeListOf<SVGGElement>} */
  var nodes = document.querySelectorAll(".node");
  /** @type {NodeListOf<SVGGElement>} */
  var edges = document.querySelectorAll(".edge");
  return new Title2ElementMap(edges, nodes);
})();

function getHoverHandler(pTitle2ElementMap) {
  /** @type {string} */
  var currentHighlightedTitle = "";

  /** @param {MouseEvent} pMouseEvent */
  return function hoverHighlightHandler(pMouseEvent) {
    var closestNodeOrEdge = pMouseEvent.target.closest(".edge, .node");
    var closestTitleText = getTitleText(closestNodeOrEdge);

    if (
      !(currentHighlightedTitle === closestTitleText) &&
      gMode.get() === gMode.HOVER
    ) {
      resetNodesAndEdges();
      addHighlight(closestNodeOrEdge);
      pTitle2ElementMap.get(closestTitleText).forEach(addHighlight);
      currentHighlightedTitle = closestTitleText;
    }
  };
}

function getSelectHandler(pTitle2ElementMap) {
  /** @type {string} */
  var currentHighlightedTitle = "";

  /** @param {MouseEvent} pMouseEvent */
  return function selectHighlightHandler(pMouseEvent) {
    pMouseEvent.preventDefault();

    var closestNodeOrEdge = pMouseEvent.target.closest(".edge, .node");
    var closestTitleText = getTitleText(closestNodeOrEdge);

    if (!!closestNodeOrEdge) {
      gMode.setToSelect();
    } else {
      gMode.setToHover();
    }
    if (!(currentHighlightedTitle === closestTitleText)) {
      resetNodesAndEdges();
      addHighlight(closestNodeOrEdge);
      pTitle2ElementMap.get(closestTitleText).forEach(addHighlight);
      currentHighlightedTitle = closestTitleText;
    }
  };
}
function Mode() {
  var HOVER = 1;
  var SELECT = 2;

  function setToHover() {
    this._mode = HOVER;
  }
  function setToSelect() {
    this._mode = SELECT;
  }

  /**
   * @returns {number}
   */
  function get() {
    return this._mode || HOVER;
  }

  return {
    HOVER: HOVER,
    SELECT: SELECT,
    setToHover: setToHover,
    setToSelect: setToSelect,
    get: get,
  };
}

/**
 *
 * @param {SVGGelement[]} pEdges
 * @param {SVGGElement[]} pNodes
 * @return {{get: (pTitleText:string) => SVGGElement[]}}
 */
function Title2ElementMap(pEdges, pNodes) {
  /* {{[key: string]: SVGGElement[]}} */
  var elementMap = buildMap(pEdges, pNodes);

  /**
   * @param {NodeListOf<SVGGElement>} pEdges
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement[]}}
   */
  function buildMap(pEdges, pNodes) {
    var title2NodeMap = buildTitle2NodeMap(pNodes);

    return nodeListToArray(pEdges).reduce(addEdgeToMap(title2NodeMap), {});
  }
  /**
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement}}
   */
  function buildTitle2NodeMap(pNodes) {
    return nodeListToArray(pNodes).reduce(addNodeToMap, {});
  }

  function addNodeToMap(pMap, pNode) {
    var titleText = getTitleText(pNode);

    if (titleText) {
      pMap[titleText] = pNode;
    }
    return pMap;
  }

  function addEdgeToMap(pNodeMap) {
    return function (pEdgeMap, pEdge) {
      /** @type {string} */
      var titleText = getTitleText(pEdge);

      if (titleText) {
        var edge = pryEdgeFromTitle(titleText);

        pEdgeMap[titleText] = [pNodeMap[edge.from], pNodeMap[edge.to]];
        (pEdgeMap[edge.from] || (pEdgeMap[edge.from] = [])).push(pEdge);
        (pEdgeMap[edge.to] || (pEdgeMap[edge.to] = [])).push(pEdge);
      }
      return pEdgeMap;
    };
  }

  /**
   *
   * @param {string} pString
   * @return {{from?: string; to?:string;}}
   */
  function pryEdgeFromTitle(pString) {
    var nodeNames = pString.split(/\s*->\s*/);

    return {
      from: nodeNames.shift(),
      to: nodeNames.shift(),
    };
  }
  /**
   *
   * @param {string} pTitleText
   * @return {SVGGElement[]}
   */
  function get(pTitleText) {
    return (pTitleText && elementMap[pTitleText]) || [];
  }
  return {
    get: get,
  };
}

/**
 * @param {SVGGElement} pGElement
 * @return {string?}
 */
function getTitleText(pGElement) {
  /** @type {SVGTitleElement} */
  var title = pGElement && pGElement.querySelector("title");
  /** @type {string} */
  var titleText = title && title.textContent;

  if (titleText) {
    titleText = titleText.trim();
  }
  return titleText;
}

/**
 * @param {NodeListOf<Element>} pNodeList
 * @return {Element[]}
 */
function nodeListToArray(pNodeList) {
  var lReturnValue = [];

  pNodeList.forEach(function (pElement) {
    lReturnValue.push(pElement);
  });

  return lReturnValue;
}

function resetNodesAndEdges() {
  nodeListToArray(document.querySelectorAll(".current")).forEach(
    removeHighlight,
  );
}

/**
 * @param {SVGGElement} pGElement
 */
function removeHighlight(pGElement) {
  if (pGElement && pGElement.classList) {
    pGElement.classList.remove("current");
  }
}

/**
 * @param {SVGGElement} pGroup
 */
function addHighlight(pGroup) {
  if (pGroup && pGroup.classList) {
    pGroup.classList.add("current");
  }
}

var gHints = {
  HIDDEN: 1,
  SHOWN: 2,
  state: this.HIDDEN,
  show: function () {
    document.getElementById("hints").removeAttribute("style");
    gHints.state = gHints.SHOWN;
  },
  hide: function () {
    document.getElementById("hints").style = "display:none";
    gHints.state = gHints.HIDDEN;
  },
  toggle: function () {
    if ((gHints.state || gHints.HIDDEN) === gHints.HIDDEN) {
      gHints.show();
    } else {
      gHints.hide();
    }
  },
};

/** @param {KeyboardEvent} pKeyboardEvent */
function keyboardEventHandler(pKeyboardEvent) {
  if (pKeyboardEvent.key === "Escape") {
    resetNodesAndEdges();
    gMode.setToHover();
    gHints.hide();
  }
  if (pKeyboardEvent.key === "F1") {
    pKeyboardEvent.preventDefault();
    gHints.toggle();
  }
}

document.addEventListener("contextmenu", getSelectHandler(title2ElementMap));
document.addEventListener("mouseover", getHoverHandler(title2ElementMap));
document.addEventListener("keydown", keyboardEventHandler);
document.getElementById("close-hints").addEventListener("click", gHints.hide);
document.getElementById("button_help").addEventListener("click", gHints.toggle);
document.querySelector("svg").insertAdjacentHTML(
  "afterbegin",
  `<linearGradient id="edgeGradient">
      <stop offset="0%" stop-color="fuchsia"/>
      <stop offset="100%" stop-color="purple"/>
   </linearGradient>
  `,
);

// Add a small increment to the last value of the path to make gradients on
// horizontal paths work. Without them all browsers I tested with (firefox,
// chrome) do not render the gradient, but instead make the line transparent
// (or the color of the background, I haven't looked into it that deeply,
// but for the hack it doesn't matter which).
function skewLineABit(lDrawingInstructions) {
  var lLastValue = lDrawingInstructions.match(/(\d+\.?\d*)$/)[0];
  // Smaller values than .001 _should_ work as well, but don't in all
  // cases. Even this value is so small that it is not visible to the
  // human eye (tested with the two I have at my disposal).
  var lIncrement = 0.001;
  var lNewLastValue = parseFloat(lLastValue) + lIncrement;

  return lDrawingInstructions.replace(lLastValue, lNewLastValue);
}

nodeListToArray(document.querySelectorAll("path"))
  .filter(function (pElement) {
    return pElement.parentElement.classList.contains("edge");
  })
  .forEach(function (pElement) {
    pElement.attributes.d.value = skewLineABit(pElement.attributes.d.value);
  });

    </script>
  </body>
</html>
