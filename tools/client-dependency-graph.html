<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>dependency graph</title>
    <style>
      .node:active path,
.node:hover path,
.node.current path,
.node:active polygon,
.node:hover polygon,
.node.current polygon {
  stroke: fuchsia;
  stroke-width: 2;
}

.edge:active path,
.edge:hover path,
.edge.current path,
.edge:active ellipse,
.edge:hover ellipse,
.edge.current ellipse {
  stroke: url(#edgeGradient);
  stroke-width: 3;
  stroke-opacity: 1;
}

.edge:active polygon,
.edge:hover polygon,
.edge.current polygon {
  stroke: fuchsia;
  stroke-width: 3;
  fill: fuchsia;
  stroke-opacity: 1;
  fill-opacity: 1;
}

.edge:active text,
.edge:hover text {
  fill: fuchsia;
}

.cluster path {
  stroke-width: 3;
}

.cluster:active path,
.cluster:hover path {
  fill: #ffff0011;
}

div.hint {
  background-color: #000000aa;
  color: white;
  font-family: Arial, Helvetica, sans-serif;
  border-radius: 1rem;
  position: fixed;
  top: calc(50% - 4em);
  right: calc(50% - 10em);
  border: none;
  padding: 1em 3em 1em 1em;
}

.hint button {
  position: absolute;
  font-weight: bolder;
  right: 0.6em;
  top: 0.6em;
  color: inherit;
  background-color: inherit;
  border: 1px solid currentColor;
  border-radius: 1em;
  margin-left: 0.6em;
}

.hint a {
  color: inherit;
}

#button_help {
  color: white;
  background-color: #00000011;
  border-radius: 1em;
  position: fixed;
  top: 1em;
  right: 1em;
  font-size: 24pt;
  font-weight: bolder;
  width: 2em;
  height: 2em;
  border: none;
}

#button_help:hover {
  cursor: pointer;
  background-color: #00000077;
}

@media print {
  #button_help {
    display: none;
  }

  div.hint {
    display: none;
  }
}

    </style>
  </head>
  <body>
    <button id="button_help">?</button>
    <div id="hints" class="hint" style="display: none">
      <button id="close-hints">x</button>
      <span id="hint-text"></span>
      <ul>
        <li><b>Hover</b> - highlight</li>
        <li><b>Right-click</b> - pin highlight</li>
        <li><b>ESC</b> - clear</li>
      </ul>
    </div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.0 (20241103.1931)
 -->
<!-- Title: dependency&#45;cruiser output Pages: 1 -->
<svg width="834pt" height="715pt"
 viewBox="0.00 0.00 834.00 715.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 711)">
<title>dependency&#45;cruiser output</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-711 830,-711 830,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_src</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M20,-8C20,-8 806,-8 806,-8 812,-8 818,-14 818,-20 818,-20 818,-687 818,-687 818,-693 812,-699 806,-699 806,-699 20,-699 20,-699 14,-699 8,-693 8,-687 8,-687 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="middle" x="413" y="-686.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">src</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_src/client</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M28,-16C28,-16 798,-16 798,-16 804,-16 810,-22 810,-28 810,-28 810,-660 810,-660 810,-666 804,-672 798,-672 798,-672 28,-672 28,-672 22,-672 16,-666 16,-660 16,-660 16,-28 16,-28 16,-22 22,-16 28,-16"/>
<text text-anchor="middle" x="413" y="-659.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">client</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_src/client/application</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M156.75,-146C156.75,-146 654.75,-146 654.75,-146 660.75,-146 666.75,-152 666.75,-158 666.75,-158 666.75,-441 666.75,-441 666.75,-447 660.75,-453 654.75,-453 654.75,-453 156.75,-453 156.75,-453 150.75,-453 144.75,-447 144.75,-441 144.75,-441 144.75,-158 144.75,-158 144.75,-152 150.75,-146 156.75,-146"/>
<text text-anchor="middle" x="405.75" y="-440.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">application</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_src/client/application/ports</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M345.12,-154C345.12,-154 646.75,-154 646.75,-154 652.75,-154 658.75,-160 658.75,-166 658.75,-166 658.75,-257 658.75,-257 658.75,-263 652.75,-269 646.75,-269 646.75,-269 345.12,-269 345.12,-269 339.12,-269 333.12,-263 333.12,-257 333.12,-257 333.12,-166 333.12,-166 333.12,-160 339.12,-154 345.12,-154"/>
<text text-anchor="middle" x="495.94" y="-256.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">ports</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_src/client/application/usecases</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M164.75,-277C164.75,-277 495,-277 495,-277 501,-277 507,-283 507,-289 507,-289 507,-414 507,-414 507,-420 501,-426 495,-426 495,-426 164.75,-426 164.75,-426 158.75,-426 152.75,-420 152.75,-414 152.75,-414 152.75,-289 152.75,-289 152.75,-283 158.75,-277 164.75,-277"/>
<text text-anchor="middle" x="329.88" y="-413.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">usecases</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_src/client/application/usecases/CreateCharacter</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M172.75,-285C172.75,-285 487,-285 487,-285 493,-285 499,-291 499,-297 499,-297 499,-326 499,-326 499,-332 493,-338 487,-338 487,-338 172.75,-338 172.75,-338 166.75,-338 160.75,-332 160.75,-326 160.75,-326 160.75,-297 160.75,-297 160.75,-291 166.75,-285 172.75,-285"/>
<text text-anchor="middle" x="329.88" y="-325.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">CreateCharacter</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_src/client/application/usecases/GetCharacters</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M177.25,-346C177.25,-346 486.25,-346 486.25,-346 492.25,-346 498.25,-352 498.25,-358 498.25,-358 498.25,-387 498.25,-387 498.25,-393 492.25,-399 486.25,-399 486.25,-399 177.25,-399 177.25,-399 171.25,-399 165.25,-393 165.25,-387 165.25,-387 165.25,-358 165.25,-358 165.25,-352 171.25,-346 177.25,-346"/>
<text text-anchor="middle" x="331.75" y="-386.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">GetCharacters</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_src/client/domain</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M559.62,-85C559.62,-85 616.38,-85 616.38,-85 622.38,-85 628.38,-91 628.38,-97 628.38,-97 628.38,-126 628.38,-126 628.38,-132 622.38,-138 616.38,-138 616.38,-138 559.62,-138 559.62,-138 553.62,-138 547.62,-132 547.62,-126 547.62,-126 547.62,-97 547.62,-97 547.62,-91 553.62,-85 559.62,-85"/>
<text text-anchor="middle" x="588" y="-125.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">domain</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_src/client/infrastructure</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M338.75,-24C338.75,-24 625,-24 625,-24 631,-24 637,-30 637,-36 637,-36 637,-65 637,-65 637,-71 631,-77 625,-77 625,-77 338.75,-77 338.75,-77 332.75,-77 326.75,-71 326.75,-65 326.75,-65 326.75,-36 326.75,-36 326.75,-30 332.75,-24 338.75,-24"/>
<text text-anchor="middle" x="481.88" y="-64.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">infrastructure</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_src/client/presentation</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M156,-461C156,-461 790,-461 790,-461 796,-461 802,-467 802,-473 802,-473 802,-633 802,-633 802,-639 796,-645 790,-645 790,-645 156,-645 156,-645 150,-645 144,-639 144,-633 144,-633 144,-473 144,-473 144,-467 150,-461 156,-461"/>
<text text-anchor="middle" x="473" y="-632.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">presentation</text>
</g>
<g id="clust11" class="cluster">
<title>cluster_src/client/presentation/controllers</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M164,-469C164,-469 305,-469 305,-469 311,-469 317,-475 317,-481 317,-481 317,-606 317,-606 317,-612 311,-618 305,-618 305,-618 164,-618 164,-618 158,-618 152,-612 152,-606 152,-606 152,-481 152,-481 152,-475 158,-469 164,-469"/>
<text text-anchor="middle" x="234.5" y="-605.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">controllers</text>
</g>
<g id="clust12" class="cluster">
<title>cluster_src/client/presentation/controllers/CreateCharacter</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M172,-477C172,-477 297,-477 297,-477 303,-477 309,-483 309,-489 309,-489 309,-518 309,-518 309,-524 303,-530 297,-530 297,-530 172,-530 172,-530 166,-530 160,-524 160,-518 160,-518 160,-489 160,-489 160,-483 166,-477 172,-477"/>
<text text-anchor="middle" x="234.5" y="-517.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">CreateCharacter</text>
</g>
<g id="clust13" class="cluster">
<title>cluster_src/client/presentation/controllers/GetCharacters</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M176.5,-538C176.5,-538 292.5,-538 292.5,-538 298.5,-538 304.5,-544 304.5,-550 304.5,-550 304.5,-579 304.5,-579 304.5,-585 298.5,-591 292.5,-591 292.5,-591 176.5,-591 176.5,-591 170.5,-591 164.5,-585 164.5,-579 164.5,-579 164.5,-550 164.5,-550 164.5,-544 170.5,-538 176.5,-538"/>
<text text-anchor="middle" x="234.5" y="-578.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">GetCharacters</text>
</g>
<g id="clust14" class="cluster">
<title>cluster_src/client/presentation/presenters</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M350.38,-469C350.38,-469 465.62,-469 465.62,-469 471.62,-469 477.62,-475 477.62,-481 477.62,-481 477.62,-510 477.62,-510 477.62,-516 471.62,-522 465.62,-522 465.62,-522 350.38,-522 350.38,-522 344.38,-522 338.38,-516 338.38,-510 338.38,-510 338.38,-481 338.38,-481 338.38,-475 344.38,-469 350.38,-469"/>
<text text-anchor="middle" x="408" y="-509.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">presenters</text>
</g>
<g id="clust15" class="cluster">
<title>cluster_src/client/presentation/viewModels</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M527,-497C527,-497 782,-497 782,-497 788,-497 794,-503 794,-509 794,-509 794,-538 794,-538 794,-544 788,-550 782,-550 782,-550 527,-550 527,-550 521,-550 515,-544 515,-538 515,-538 515,-509 515,-509 515,-503 521,-497 527,-497"/>
<text text-anchor="middle" x="654.5" y="-537.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">viewModels</text>
</g>
<!-- src/client/DependencyInjection.ts -->
<g id="node1" class="node">
<title>src/client/DependencyInjection.ts</title>
<g id="a_node1"><a xlink:href="src/client/DependencyInjection.ts" xlink:title="DependencyInjection.ts">
<path fill="#ddfeff" stroke="black" d="M129.83,-285.25C129.83,-285.25 30.17,-285.25 30.17,-285.25 27.08,-285.25 24,-282.17 24,-279.08 24,-279.08 24,-272.92 24,-272.92 24,-269.83 27.08,-266.75 30.17,-266.75 30.17,-266.75 129.83,-266.75 129.83,-266.75 132.92,-266.75 136,-269.83 136,-272.92 136,-272.92 136,-279.08 136,-279.08 136,-282.17 132.92,-285.25 129.83,-285.25"/>
<text text-anchor="start" x="32" y="-272.7" font-family="Helvetica,sans-Serif" font-size="9.00">DependencyInjection.ts</text>
</a>
</g>
</g>
<!-- src/client/application/ports/ICharacterRepository.ts -->
<g id="node2" class="node">
<title>src/client/application/ports/ICharacterRepository.ts</title>
<g id="a_node2"><a xlink:href="src/client/application/ports/ICharacterRepository.ts" xlink:title="ICharacterRepository.ts">
<polygon fill="#fb6969" stroke="black" points="463.62,-180.25 352.38,-180.25 352.38,-161.75 463.62,-161.75 463.62,-180.25"/>
<text text-anchor="start" x="360.38" y="-167.7" font-family="Helvetica,sans-Serif" font-size="9.00">ICharacterRepository.ts</text>
</a>
</g>
</g>
<!-- src/client/DependencyInjection.ts&#45;&gt;src/client/application/ports/ICharacterRepository.ts -->
<g id="edge1" class="edge">
<title>src/client/DependencyInjection.ts&#45;&gt;src/client/application/ports/ICharacterRepository.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M86.52,-266.34C96.03,-250.71 117.1,-220.18 144,-206 206.17,-173.22 287.67,-167.09 343.36,-167.47"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="343.02,-169.57 349.04,-167.55 343.07,-165.37 343.02,-169.57"/>
</g>
<!-- src/client/application/ports/ICreateCharacterUseCase.ts -->
<g id="node3" class="node">
<title>src/client/application/ports/ICreateCharacterUseCase.ts</title>
<g id="a_node3"><a xlink:href="src/client/application/ports/ICreateCharacterUseCase.ts" xlink:title="ICreateCharacterUseCase.ts">
<polygon fill="#fb6969" stroke="black" points="474.88,-211.25 341.12,-211.25 341.12,-192.75 474.88,-192.75 474.88,-211.25"/>
<text text-anchor="start" x="349.12" y="-198.7" font-family="Helvetica,sans-Serif" font-size="9.00">ICreateCharacterUseCase.ts</text>
</a>
</g>
</g>
<!-- src/client/DependencyInjection.ts&#45;&gt;src/client/application/ports/ICreateCharacterUseCase.ts -->
<g id="edge2" class="edge">
<title>src/client/DependencyInjection.ts&#45;&gt;src/client/application/ports/ICreateCharacterUseCase.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M95.91,-266.39C108.3,-258.86 126.65,-248.72 144,-243 205.53,-222.71 278.54,-212.34 332.01,-207.12"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="331.96,-209.24 337.74,-206.58 331.56,-205.05 331.96,-209.24"/>
</g>
<!-- src/client/application/ports/IGetCharactersUseCase.ts -->
<g id="node4" class="node">
<title>src/client/application/ports/IGetCharactersUseCase.ts</title>
<g id="a_node4"><a xlink:href="src/client/application/ports/IGetCharactersUseCase.ts" xlink:title="IGetCharactersUseCase.ts">
<polygon fill="#fb6969" stroke="black" points="470.38,-242.25 345.62,-242.25 345.62,-223.75 470.38,-223.75 470.38,-242.25"/>
<text text-anchor="start" x="353.62" y="-229.7" font-family="Helvetica,sans-Serif" font-size="9.00">IGetCharactersUseCase.ts</text>
</a>
</g>
</g>
<!-- src/client/DependencyInjection.ts&#45;&gt;src/client/application/ports/IGetCharactersUseCase.ts -->
<g id="edge3" class="edge">
<title>src/client/DependencyInjection.ts&#45;&gt;src/client/application/ports/IGetCharactersUseCase.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M136.3,-268.71C191.53,-261.42 276.63,-250.2 336.64,-242.28"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="336.63,-244.4 342.31,-241.53 336.08,-240.24 336.63,-244.4"/>
</g>
<!-- src/client/application/usecases/CreateCharacter/CreateCharacterUseCase.ts -->
<g id="node5" class="node">
<title>src/client/application/usecases/CreateCharacter/CreateCharacterUseCase.ts</title>
<g id="a_node5"><a xlink:href="src/client/application/usecases/CreateCharacter/CreateCharacterUseCase.ts" xlink:title="CreateCharacterUseCase.ts">
<polygon fill="#fb6969" stroke="black" points="300.25,-311.25 168.75,-311.25 168.75,-292.75 300.25,-292.75 300.25,-311.25"/>
<text text-anchor="start" x="176.75" y="-298.7" font-family="Helvetica,sans-Serif" font-size="9.00">CreateCharacterUseCase.ts</text>
</a>
</g>
</g>
<!-- src/client/DependencyInjection.ts&#45;&gt;src/client/application/usecases/CreateCharacter/CreateCharacterUseCase.ts -->
<g id="edge4" class="edge">
<title>src/client/DependencyInjection.ts&#45;&gt;src/client/application/usecases/CreateCharacter/CreateCharacterUseCase.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M126.36,-285.69C132.28,-286.86 138.28,-288 144,-289 149.05,-289.89 154.27,-290.76 159.54,-291.61"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="159.17,-293.68 165.42,-292.54 159.82,-289.53 159.17,-293.68"/>
</g>
<!-- src/client/application/usecases/GetCharacters/GetCharactersUseCase.ts -->
<g id="node6" class="node">
<title>src/client/application/usecases/GetCharacters/GetCharactersUseCase.ts</title>
<g id="a_node6"><a xlink:href="src/client/application/usecases/GetCharacters/GetCharactersUseCase.ts" xlink:title="GetCharactersUseCase.ts">
<polygon fill="#fb6969" stroke="black" points="295.75,-372.25 173.25,-372.25 173.25,-353.75 295.75,-353.75 295.75,-372.25"/>
<text text-anchor="start" x="181.25" y="-359.7" font-family="Helvetica,sans-Serif" font-size="9.00">GetCharactersUseCase.ts</text>
</a>
</g>
</g>
<!-- src/client/DependencyInjection.ts&#45;&gt;src/client/application/usecases/GetCharacters/GetCharactersUseCase.ts -->
<g id="edge5" class="edge">
<title>src/client/DependencyInjection.ts&#45;&gt;src/client/application/usecases/GetCharacters/GetCharactersUseCase.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M87.53,-285.58C97.82,-299.92 119.19,-326.76 144,-341 150.73,-344.86 158.11,-348.05 165.67,-350.68"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="164.68,-352.56 171.03,-352.4 165.96,-348.57 164.68,-352.56"/>
</g>
<!-- src/client/infrastructure/GraphQLCharacterRepository.ts -->
<g id="node7" class="node">
<title>src/client/infrastructure/GraphQLCharacterRepository.ts</title>
<g id="a_node7"><a xlink:href="src/client/infrastructure/GraphQLCharacterRepository.ts" xlink:title="GraphQLCharacterRepository.ts">
<polygon fill="#6cbaff" stroke="black" points="481.25,-50.25 334.75,-50.25 334.75,-31.75 481.25,-31.75 481.25,-50.25"/>
<text text-anchor="start" x="342.75" y="-37.7" font-family="Helvetica,sans-Serif" font-size="9.00">GraphQLCharacterRepository.ts</text>
</a>
</g>
</g>
<!-- src/client/DependencyInjection.ts&#45;&gt;src/client/infrastructure/GraphQLCharacterRepository.ts -->
<g id="edge6" class="edge">
<title>src/client/DependencyInjection.ts&#45;&gt;src/client/infrastructure/GraphQLCharacterRepository.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M84.17,-266.4C91.53,-245.42 111.66,-194.98 144,-165 207.73,-105.91 304.69,-70.22 361.36,-53.18"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="361.7,-55.27 366.86,-51.55 360.51,-51.24 361.7,-55.27"/>
</g>
<!-- src/client/presentation/controllers/CreateCharacter/CreateCharacterController.ts -->
<g id="node8" class="node">
<title>src/client/presentation/controllers/CreateCharacter/CreateCharacterController.ts</title>
<g id="a_node8"><a xlink:href="src/client/presentation/controllers/CreateCharacter/CreateCharacterController.ts" xlink:title="CreateCharacterController.ts">
<polygon fill="#9fff9f" stroke="black" points="301,-503.25 168,-503.25 168,-484.75 301,-484.75 301,-503.25"/>
<text text-anchor="start" x="176" y="-490.7" font-family="Helvetica,sans-Serif" font-size="9.00">CreateCharacterController.ts</text>
</a>
</g>
</g>
<!-- src/client/DependencyInjection.ts&#45;&gt;src/client/presentation/controllers/CreateCharacter/CreateCharacterController.ts -->
<g id="edge7" class="edge">
<title>src/client/DependencyInjection.ts&#45;&gt;src/client/presentation/controllers/CreateCharacter/CreateCharacterController.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M84.66,-285.73C93.15,-307.65 115.67,-362.12 144,-402 165.26,-431.93 196.23,-461.44 215.6,-478.68"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="214.01,-480.07 219.9,-482.45 216.78,-476.92 214.01,-480.07"/>
</g>
<!-- src/client/presentation/controllers/GetCharacters/GetCharactersController.ts -->
<g id="node9" class="node">
<title>src/client/presentation/controllers/GetCharacters/GetCharactersController.ts</title>
<g id="a_node9"><a xlink:href="src/client/presentation/controllers/GetCharacters/GetCharactersController.ts" xlink:title="GetCharactersController.ts">
<polygon fill="#9fff9f" stroke="black" points="296.5,-564.25 172.5,-564.25 172.5,-545.75 296.5,-545.75 296.5,-564.25"/>
<text text-anchor="start" x="180.5" y="-551.7" font-family="Helvetica,sans-Serif" font-size="9.00">GetCharactersController.ts</text>
</a>
</g>
</g>
<!-- src/client/DependencyInjection.ts&#45;&gt;src/client/presentation/controllers/GetCharacters/GetCharactersController.ts -->
<g id="edge8" class="edge">
<title>src/client/DependencyInjection.ts&#45;&gt;src/client/presentation/controllers/GetCharacters/GetCharactersController.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M82.03,-285.62C86.77,-327.89 107.71,-496.69 144,-533 149.65,-538.65 156.5,-542.94 163.87,-546.17"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="162.85,-548.03 169.2,-548.21 164.35,-544.11 162.85,-548.03"/>
</g>
<!-- src/client/domain/Character.ts -->
<g id="node10" class="node">
<title>src/client/domain/Character.ts</title>
<g id="a_node10"><a xlink:href="src/client/domain/Character.ts" xlink:title="Character.ts">
<polygon fill="#fa9f36" stroke="black" points="620.38,-111.25 555.62,-111.25 555.62,-92.75 620.38,-92.75 620.38,-111.25"/>
<text text-anchor="start" x="563.62" y="-98.7" font-family="Helvetica,sans-Serif" font-size="9.00">Character.ts</text>
</a>
</g>
</g>
<!-- src/client/application/ports/ICharacterRepository.ts&#45;&gt;src/client/domain/Character.ts -->
<g id="edge9" class="edge">
<title>src/client/application/ports/ICharacterRepository.ts&#45;&gt;src/client/domain/Character.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M434.13,-161.26C465.4,-149.14 518.91,-128.39 553.61,-114.94"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="554.34,-116.91 559.18,-112.78 552.83,-112.99 554.34,-116.91"/>
</g>
<!-- src/client/application/usecases/CreateCharacter/CreateCharacterUseCaseRequest.ts -->
<g id="node11" class="node">
<title>src/client/application/usecases/CreateCharacter/CreateCharacterUseCaseRequest.ts</title>
<g id="a_node11"><a xlink:href="src/client/application/usecases/CreateCharacter/CreateCharacterUseCaseRequest.ts" xlink:title="CreateCharacterUseCaseRequest.ts">
<polygon fill="#fb6969" stroke="black" points="491,-311.25 325,-311.25 325,-292.75 491,-292.75 491,-311.25"/>
<text text-anchor="start" x="333" y="-298.7" font-family="Helvetica,sans-Serif" font-size="9.00">CreateCharacterUseCaseRequest.ts</text>
</a>
</g>
</g>
<!-- src/client/application/ports/ICreateCharacterUseCase.ts&#45;&gt;src/client/application/usecases/CreateCharacter/CreateCharacterUseCaseRequest.ts -->
<g id="edge10" class="edge">
<title>src/client/application/ports/ICreateCharacterUseCase.ts&#45;&gt;src/client/application/usecases/CreateCharacter/CreateCharacterUseCaseRequest.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M340.7,-203.93C331.43,-207.74 324.02,-214.01 321,-224 318.3,-232.93 318.3,-257.07 321,-266 321.93,-269.07 322.48,-270.02 325,-272 334.32,-279.31 345.58,-284.94 356.76,-289.23"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="356.05,-291.21 362.4,-291.25 357.46,-287.26 356.05,-291.21"/>
</g>
<!-- src/client/application/ports/IGetCharactersPresenter.ts -->
<g id="node12" class="node">
<title>src/client/application/ports/IGetCharactersPresenter.ts</title>
<g id="a_node12"><a xlink:href="src/client/application/ports/IGetCharactersPresenter.ts" xlink:title="IGetCharactersPresenter.ts">
<polygon fill="#fb6969" stroke="black" points="650.75,-242.25 525.25,-242.25 525.25,-223.75 650.75,-223.75 650.75,-242.25"/>
<text text-anchor="start" x="533.25" y="-229.7" font-family="Helvetica,sans-Serif" font-size="9.00">IGetCharactersPresenter.ts</text>
</a>
</g>
</g>
<!-- src/client/application/ports/IGetCharactersUseCase.ts&#45;&gt;src/client/application/ports/IGetCharactersPresenter.ts -->
<g id="edge12" class="edge">
<title>src/client/application/ports/IGetCharactersUseCase.ts&#45;&gt;src/client/application/ports/IGetCharactersPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M470.76,-233C485.36,-233 501.05,-233 516.03,-233"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="515.72,-235.1 521.72,-233 515.72,-230.9 515.72,-235.1"/>
</g>
<!-- src/client/application/usecases/CreateCharacter/CreateCharacterUseCase.ts&#45;&gt;src/client/application/ports/ICharacterRepository.ts -->
<g id="edge13" class="edge">
<title>src/client/application/usecases/CreateCharacter/CreateCharacterUseCase.ts&#45;&gt;src/client/application/ports/ICharacterRepository.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M300.63,-300.05C306.79,-297.52 312.43,-293.95 317,-289 332.42,-272.29 309.87,-203.97 325,-187 330.06,-181.32 336.5,-177.3 343.53,-174.49"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="344.07,-176.52 349.13,-172.66 342.77,-172.53 344.07,-176.52"/>
</g>
<!-- src/client/application/usecases/CreateCharacter/CreateCharacterUseCase.ts&#45;&gt;src/client/application/usecases/CreateCharacter/CreateCharacterUseCaseRequest.ts -->
<g id="edge14" class="edge">
<title>src/client/application/usecases/CreateCharacter/CreateCharacterUseCase.ts&#45;&gt;src/client/application/usecases/CreateCharacter/CreateCharacterUseCaseRequest.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M300.34,-302C305.44,-302 310.65,-302 315.89,-302"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="315.68,-304.1 321.68,-302 315.68,-299.9 315.68,-304.1"/>
</g>
<!-- src/client/application/usecases/GetCharacters/GetCharactersUseCase.ts&#45;&gt;src/client/application/ports/ICharacterRepository.ts -->
<g id="edge15" class="edge">
<title>src/client/application/usecases/GetCharacters/GetCharactersUseCase.ts&#45;&gt;src/client/application/ports/ICharacterRepository.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M295.95,-356.09C304.06,-352.68 311.47,-347.84 317,-341 338.53,-314.34 302.53,-212.88 325,-187 330.17,-181.05 336.84,-176.9 344.14,-174.06"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="344.3,-176.22 349.38,-172.39 343.03,-172.21 344.3,-176.22"/>
</g>
<!-- src/client/application/usecases/GetCharacters/GetCharactersUseCase.ts&#45;&gt;src/client/application/ports/IGetCharactersUseCase.ts -->
<g id="edge17" class="edge">
<title>src/client/application/usecases/GetCharacters/GetCharactersUseCase.ts&#45;&gt;src/client/application/ports/IGetCharactersUseCase.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M296.07,-355.68C304.06,-352.32 311.41,-347.59 317,-341 340.11,-313.75 302.79,-288.99 325,-261 329.88,-254.86 336.17,-250.05 343.09,-246.3"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="343.57,-248.4 348.09,-243.92 341.77,-244.6 343.57,-248.4"/>
</g>
<!-- src/client/application/usecases/GetCharacters/GetCharactersUseCase.ts&#45;&gt;src/client/application/ports/IGetCharactersPresenter.ts -->
<g id="edge16" class="edge">
<title>src/client/application/usecases/GetCharacters/GetCharactersUseCase.ts&#45;&gt;src/client/application/ports/IGetCharactersPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M295.87,-355.51C303.89,-352.17 311.29,-347.5 317,-341 334.47,-321.12 306.76,-301.17 325,-282 381.72,-222.38 426.12,-263.14 507,-248 513.45,-246.79 520.18,-245.53 526.9,-244.27"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="526.87,-246.41 532.38,-243.25 526.1,-242.29 526.87,-246.41"/>
</g>
<!-- src/client/application/usecases/GetCharacters/GetCharactersUseCaseResponse.ts -->
<g id="node13" class="node">
<title>src/client/application/usecases/GetCharacters/GetCharactersUseCaseResponse.ts</title>
<g id="a_node13"><a xlink:href="src/client/application/usecases/GetCharacters/GetCharactersUseCaseResponse.ts" xlink:title="GetCharactersUseCaseResponse.ts">
<polygon fill="#fb6969" stroke="black" points="490.25,-372.25 325.75,-372.25 325.75,-353.75 490.25,-353.75 490.25,-372.25"/>
<text text-anchor="start" x="333.75" y="-359.7" font-family="Helvetica,sans-Serif" font-size="9.00">GetCharactersUseCaseResponse.ts</text>
</a>
</g>
</g>
<!-- src/client/application/usecases/GetCharacters/GetCharactersUseCase.ts&#45;&gt;src/client/application/usecases/GetCharacters/GetCharactersUseCaseResponse.ts -->
<g id="edge18" class="edge">
<title>src/client/application/usecases/GetCharacters/GetCharactersUseCase.ts&#45;&gt;src/client/application/usecases/GetCharacters/GetCharactersUseCaseResponse.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M295.96,-363C302.68,-363 309.62,-363 316.6,-363"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="316.42,-365.1 322.42,-363 316.42,-360.9 316.42,-365.1"/>
</g>
<!-- src/client/infrastructure/GraphQLCharacterRepository.ts&#45;&gt;src/client/domain/Character.ts -->
<g id="edge19" class="edge">
<title>src/client/infrastructure/GraphQLCharacterRepository.ts&#45;&gt;src/client/domain/Character.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M434.13,-50.7C455.52,-58.84 487.12,-70.62 515,-80 525.26,-83.45 536.41,-86.97 546.81,-90.16"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="546.09,-92.13 552.44,-91.86 547.31,-88.11 546.09,-92.13"/>
</g>
<!-- src/client/infrastructure/fetchGraphQL.ts -->
<g id="node14" class="node">
<title>src/client/infrastructure/fetchGraphQL.ts</title>
<g id="a_node14"><a xlink:href="src/client/infrastructure/fetchGraphQL.ts" xlink:title="fetchGraphQL.ts">
<polygon fill="#6cbaff" stroke="black" points="629,-50.25 547,-50.25 547,-31.75 629,-31.75 629,-50.25"/>
<text text-anchor="start" x="555" y="-37.7" font-family="Helvetica,sans-Serif" font-size="9.00">fetchGraphQL.ts</text>
</a>
</g>
</g>
<!-- src/client/infrastructure/GraphQLCharacterRepository.ts&#45;&gt;src/client/infrastructure/fetchGraphQL.ts -->
<g id="edge20" class="edge">
<title>src/client/infrastructure/GraphQLCharacterRepository.ts&#45;&gt;src/client/infrastructure/fetchGraphQL.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M481.66,-41C500.57,-41 520.5,-41 537.87,-41"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="537.68,-43.1 543.68,-41 537.68,-38.9 537.68,-43.1"/>
</g>
<!-- src/client/presentation/controllers/CreateCharacter/CreateCharacterController.ts&#45;&gt;src/client/application/ports/ICreateCharacterUseCase.ts -->
<g id="edge21" class="edge">
<title>src/client/presentation/controllers/CreateCharacter/CreateCharacterController.ts&#45;&gt;src/client/application/ports/ICreateCharacterUseCase.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M248.34,-484.41C267.39,-469.31 302.44,-438 317,-402 324.67,-383.03 311.65,-233.51 325,-218 327.38,-215.23 330.09,-212.86 333.03,-210.82"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="333.96,-212.71 338.15,-207.92 331.89,-209.05 333.96,-212.71"/>
</g>
<!-- src/client/presentation/controllers/CreateCharacter/CreateCharacterController.ts&#45;&gt;src/client/application/usecases/CreateCharacter/CreateCharacterUseCaseRequest.ts -->
<g id="edge22" class="edge">
<title>src/client/presentation/controllers/CreateCharacter/CreateCharacterController.ts&#45;&gt;src/client/application/usecases/CreateCharacter/CreateCharacterUseCaseRequest.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M247.63,-484.48C266.07,-469.26 300.73,-437.5 317,-402 328.03,-377.95 309.6,-364.52 325,-343 334.06,-330.34 348.16,-321.37 362.14,-315.12"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="362.77,-317.13 367.51,-312.9 361.17,-313.24 362.77,-317.13"/>
</g>
<!-- src/client/presentation/controllers/GetCharacters/GetCharactersController.ts&#45;&gt;src/client/application/ports/IGetCharactersUseCase.ts -->
<g id="edge23" class="edge">
<title>src/client/presentation/controllers/GetCharacters/GetCharactersController.ts&#45;&gt;src/client/application/ports/IGetCharactersUseCase.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M296.88,-547.84C304.66,-544.44 311.72,-539.67 317,-533 334.32,-511.12 310.85,-306.05 325,-282 334.69,-265.54 352.25,-253.98 368.65,-246.23"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="369.15,-248.3 373.79,-243.95 367.46,-244.46 369.15,-248.3"/>
</g>
<!-- src/client/presentation/presenters/GetCharactersPresenter.ts -->
<g id="node15" class="node">
<title>src/client/presentation/presenters/GetCharactersPresenter.ts</title>
<g id="a_node15"><a xlink:href="src/client/presentation/presenters/GetCharactersPresenter.ts" xlink:title="GetCharactersPresenter.ts">
<polygon fill="#9fff9f" stroke="black" points="469.62,-495.25 346.38,-495.25 346.38,-476.75 469.62,-476.75 469.62,-495.25"/>
<text text-anchor="start" x="354.38" y="-482.7" font-family="Helvetica,sans-Serif" font-size="9.00">GetCharactersPresenter.ts</text>
</a>
</g>
</g>
<!-- src/client/presentation/controllers/GetCharacters/GetCharactersController.ts&#45;&gt;src/client/presentation/presenters/GetCharactersPresenter.ts -->
<g id="edge24" class="edge">
<title>src/client/presentation/controllers/GetCharacters/GetCharactersController.ts&#45;&gt;src/client/presentation/presenters/GetCharactersPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M278.37,-545.3C290.99,-541.94 304.71,-537.8 317,-533 340.49,-523.82 365.84,-510.22 383.63,-500.01"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="384.49,-501.94 388.62,-497.1 382.38,-498.31 384.49,-501.94"/>
</g>
<!-- src/client/presentation/viewModels/GetCharactersViewModel.ts -->
<g id="node16" class="node">
<title>src/client/presentation/viewModels/GetCharactersViewModel.ts</title>
<g id="a_node16"><a xlink:href="src/client/presentation/viewModels/GetCharactersViewModel.ts" xlink:title="GetCharactersViewModel.ts">
<polygon fill="#9fff9f" stroke="black" points="653,-523.25 523,-523.25 523,-504.75 653,-504.75 653,-523.25"/>
<text text-anchor="start" x="531" y="-510.7" font-family="Helvetica,sans-Serif" font-size="9.00">GetCharactersViewModel.ts</text>
</a>
</g>
</g>
<!-- src/client/presentation/controllers/GetCharacters/GetCharactersController.ts&#45;&gt;src/client/presentation/viewModels/GetCharactersViewModel.ts -->
<g id="edge25" class="edge">
<title>src/client/presentation/controllers/GetCharacters/GetCharactersController.ts&#45;&gt;src/client/presentation/viewModels/GetCharactersViewModel.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M296.75,-548.7C351.81,-542.93 434.88,-533.94 507,-525 509.41,-524.7 511.87,-524.39 514.34,-524.08"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="514.15,-526.22 519.83,-523.36 513.61,-522.05 514.15,-526.22"/>
</g>
<!-- src/client/application/ports/IGetCharactersPresenter.ts&#45;&gt;src/client/application/usecases/GetCharacters/GetCharactersUseCaseResponse.ts -->
<g id="edge11" class="edge">
<title>src/client/application/ports/IGetCharactersPresenter.ts&#45;&gt;src/client/application/usecases/GetCharacters/GetCharactersUseCaseResponse.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M582.81,-242.59C572.94,-263.94 546.11,-315.54 507,-341 501.35,-344.68 495.17,-347.75 488.75,-350.31"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="488.28,-348.24 483.36,-352.26 489.71,-352.19 488.28,-348.24"/>
</g>
<!-- src/client/presentation/presenters/GetCharactersPresenter.ts&#45;&gt;src/client/application/ports/IGetCharactersPresenter.ts -->
<g id="edge26" class="edge">
<title>src/client/presentation/presenters/GetCharactersPresenter.ts&#45;&gt;src/client/application/ports/IGetCharactersPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M423.66,-476.43C444.44,-462.25 482.66,-433.88 507,-402 544.48,-352.92 570.43,-283.47 581.29,-251.02"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="583.25,-251.78 583.12,-245.42 579.26,-250.47 583.25,-251.78"/>
</g>
<!-- src/client/presentation/presenters/GetCharactersPresenter.ts&#45;&gt;src/client/application/usecases/GetCharacters/GetCharactersUseCaseResponse.ts -->
<g id="edge27" class="edge">
<title>src/client/presentation/presenters/GetCharactersPresenter.ts&#45;&gt;src/client/application/usecases/GetCharacters/GetCharactersUseCaseResponse.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M408,-476.26C408,-444.68 408,-413.1 408,-381.52"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="410.1,-381.64 408,-375.64 405.9,-381.64 410.1,-381.64"/>
</g>
<!-- src/client/presentation/presenters/GetCharactersPresenter.ts&#45;&gt;src/client/presentation/viewModels/GetCharactersViewModel.ts -->
<g id="edge28" class="edge">
<title>src/client/presentation/presenters/GetCharactersPresenter.ts&#45;&gt;src/client/presentation/viewModels/GetCharactersViewModel.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M469.76,-495.56C484.89,-497.94 501.23,-500.51 516.77,-502.95"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="516.06,-504.97 522.31,-503.82 516.71,-500.82 516.06,-504.97"/>
</g>
<!-- src/client/presentation/viewModels/CharacterViewModel.ts -->
<g id="node17" class="node">
<title>src/client/presentation/viewModels/CharacterViewModel.ts</title>
<g id="a_node17"><a xlink:href="src/client/presentation/viewModels/CharacterViewModel.ts" xlink:title="CharacterViewModel.ts">
<polygon fill="#9fff9f" stroke="black" points="786,-523.25 674.75,-523.25 674.75,-504.75 786,-504.75 786,-523.25"/>
<text text-anchor="start" x="682.75" y="-510.7" font-family="Helvetica,sans-Serif" font-size="9.00">CharacterViewModel.ts</text>
</a>
</g>
</g>
<!-- src/client/presentation/viewModels/GetCharactersViewModel.ts&#45;&gt;src/client/presentation/viewModels/CharacterViewModel.ts -->
<g id="edge29" class="edge">
<title>src/client/presentation/viewModels/GetCharactersViewModel.ts&#45;&gt;src/client/presentation/viewModels/CharacterViewModel.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M653.44,-514C657.52,-514 661.63,-514 665.71,-514"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="665.54,-516.1 671.54,-514 665.54,-511.9 665.54,-516.1"/>
</g>
</g>
</svg>
    <script>
      var gMode = new Mode();

var title2ElementMap = (function makeElementMap() {
  /** @type {NodeListOf<SVGGElement>} */
  var nodes = document.querySelectorAll(".node");
  /** @type {NodeListOf<SVGGElement>} */
  var edges = document.querySelectorAll(".edge");
  return new Title2ElementMap(edges, nodes);
})();

function getHoverHandler(pTitle2ElementMap) {
  /** @type {string} */
  var currentHighlightedTitle = "";

  /** @param {MouseEvent} pMouseEvent */
  return function hoverHighlightHandler(pMouseEvent) {
    var closestNodeOrEdge = pMouseEvent.target.closest(".edge, .node");
    var closestTitleText = getTitleText(closestNodeOrEdge);

    if (
      !(currentHighlightedTitle === closestTitleText) &&
      gMode.get() === gMode.HOVER
    ) {
      resetNodesAndEdges();
      addHighlight(closestNodeOrEdge);
      pTitle2ElementMap.get(closestTitleText).forEach(addHighlight);
      currentHighlightedTitle = closestTitleText;
    }
  };
}

function getSelectHandler(pTitle2ElementMap) {
  /** @type {string} */
  var currentHighlightedTitle = "";

  /** @param {MouseEvent} pMouseEvent */
  return function selectHighlightHandler(pMouseEvent) {
    pMouseEvent.preventDefault();

    var closestNodeOrEdge = pMouseEvent.target.closest(".edge, .node");
    var closestTitleText = getTitleText(closestNodeOrEdge);

    if (!!closestNodeOrEdge) {
      gMode.setToSelect();
    } else {
      gMode.setToHover();
    }
    if (!(currentHighlightedTitle === closestTitleText)) {
      resetNodesAndEdges();
      addHighlight(closestNodeOrEdge);
      pTitle2ElementMap.get(closestTitleText).forEach(addHighlight);
      currentHighlightedTitle = closestTitleText;
    }
  };
}
function Mode() {
  var HOVER = 1;
  var SELECT = 2;

  function setToHover() {
    this._mode = HOVER;
  }
  function setToSelect() {
    this._mode = SELECT;
  }

  /**
   * @returns {number}
   */
  function get() {
    return this._mode || HOVER;
  }

  return {
    HOVER: HOVER,
    SELECT: SELECT,
    setToHover: setToHover,
    setToSelect: setToSelect,
    get: get,
  };
}

/**
 *
 * @param {SVGGelement[]} pEdges
 * @param {SVGGElement[]} pNodes
 * @return {{get: (pTitleText:string) => SVGGElement[]}}
 */
function Title2ElementMap(pEdges, pNodes) {
  /* {{[key: string]: SVGGElement[]}} */
  var elementMap = buildMap(pEdges, pNodes);

  /**
   * @param {NodeListOf<SVGGElement>} pEdges
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement[]}}
   */
  function buildMap(pEdges, pNodes) {
    var title2NodeMap = buildTitle2NodeMap(pNodes);

    return nodeListToArray(pEdges).reduce(addEdgeToMap(title2NodeMap), {});
  }
  /**
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement}}
   */
  function buildTitle2NodeMap(pNodes) {
    return nodeListToArray(pNodes).reduce(addNodeToMap, {});
  }

  function addNodeToMap(pMap, pNode) {
    var titleText = getTitleText(pNode);

    if (titleText) {
      pMap[titleText] = pNode;
    }
    return pMap;
  }

  function addEdgeToMap(pNodeMap) {
    return function (pEdgeMap, pEdge) {
      /** @type {string} */
      var titleText = getTitleText(pEdge);

      if (titleText) {
        var edge = pryEdgeFromTitle(titleText);

        pEdgeMap[titleText] = [pNodeMap[edge.from], pNodeMap[edge.to]];
        (pEdgeMap[edge.from] || (pEdgeMap[edge.from] = [])).push(pEdge);
        (pEdgeMap[edge.to] || (pEdgeMap[edge.to] = [])).push(pEdge);
      }
      return pEdgeMap;
    };
  }

  /**
   *
   * @param {string} pString
   * @return {{from?: string; to?:string;}}
   */
  function pryEdgeFromTitle(pString) {
    var nodeNames = pString.split(/\s*->\s*/);

    return {
      from: nodeNames.shift(),
      to: nodeNames.shift(),
    };
  }
  /**
   *
   * @param {string} pTitleText
   * @return {SVGGElement[]}
   */
  function get(pTitleText) {
    return (pTitleText && elementMap[pTitleText]) || [];
  }
  return {
    get: get,
  };
}

/**
 * @param {SVGGElement} pGElement
 * @return {string?}
 */
function getTitleText(pGElement) {
  /** @type {SVGTitleElement} */
  var title = pGElement && pGElement.querySelector("title");
  /** @type {string} */
  var titleText = title && title.textContent;

  if (titleText) {
    titleText = titleText.trim();
  }
  return titleText;
}

/**
 * @param {NodeListOf<Element>} pNodeList
 * @return {Element[]}
 */
function nodeListToArray(pNodeList) {
  var lReturnValue = [];

  pNodeList.forEach(function (pElement) {
    lReturnValue.push(pElement);
  });

  return lReturnValue;
}

function resetNodesAndEdges() {
  nodeListToArray(document.querySelectorAll(".current")).forEach(
    removeHighlight,
  );
}

/**
 * @param {SVGGElement} pGElement
 */
function removeHighlight(pGElement) {
  if (pGElement && pGElement.classList) {
    pGElement.classList.remove("current");
  }
}

/**
 * @param {SVGGElement} pGroup
 */
function addHighlight(pGroup) {
  if (pGroup && pGroup.classList) {
    pGroup.classList.add("current");
  }
}

var gHints = {
  HIDDEN: 1,
  SHOWN: 2,
  state: this.HIDDEN,
  show: function () {
    document.getElementById("hints").removeAttribute("style");
    gHints.state = gHints.SHOWN;
  },
  hide: function () {
    document.getElementById("hints").style = "display:none";
    gHints.state = gHints.HIDDEN;
  },
  toggle: function () {
    if ((gHints.state || gHints.HIDDEN) === gHints.HIDDEN) {
      gHints.show();
    } else {
      gHints.hide();
    }
  },
};

/** @param {KeyboardEvent} pKeyboardEvent */
function keyboardEventHandler(pKeyboardEvent) {
  if (pKeyboardEvent.key === "Escape") {
    resetNodesAndEdges();
    gMode.setToHover();
    gHints.hide();
  }
  if (pKeyboardEvent.key === "F1") {
    pKeyboardEvent.preventDefault();
    gHints.toggle();
  }
}

document.addEventListener("contextmenu", getSelectHandler(title2ElementMap));
document.addEventListener("mouseover", getHoverHandler(title2ElementMap));
document.addEventListener("keydown", keyboardEventHandler);
document.getElementById("close-hints").addEventListener("click", gHints.hide);
document.getElementById("button_help").addEventListener("click", gHints.toggle);
document.querySelector("svg").insertAdjacentHTML(
  "afterbegin",
  `<linearGradient id="edgeGradient">
      <stop offset="0%" stop-color="fuchsia"/>
      <stop offset="100%" stop-color="purple"/>
   </linearGradient>
  `,
);

// Add a small increment to the last value of the path to make gradients on
// horizontal paths work. Without them all browsers I tested with (firefox,
// chrome) do not render the gradient, but instead make the line transparent
// (or the color of the background, I haven't looked into it that deeply,
// but for the hack it doesn't matter which).
function skewLineABit(lDrawingInstructions) {
  var lLastValue = lDrawingInstructions.match(/(\d+\.?\d*)$/)[0];
  // Smaller values than .001 _should_ work as well, but don't in all
  // cases. Even this value is so small that it is not visible to the
  // human eye (tested with the two I have at my disposal).
  var lIncrement = 0.001;
  var lNewLastValue = parseFloat(lLastValue) + lIncrement;

  return lDrawingInstructions.replace(lLastValue, lNewLastValue);
}

nodeListToArray(document.querySelectorAll("path"))
  .filter(function (pElement) {
    return pElement.parentElement.classList.contains("edge");
  })
  .forEach(function (pElement) {
    pElement.attributes.d.value = skewLineABit(pElement.attributes.d.value);
  });

    </script>
  </body>
</html>
