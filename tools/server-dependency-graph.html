<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>dependency graph</title>
    <style>
      .node:active path,
.node:hover path,
.node.current path,
.node:active polygon,
.node:hover polygon,
.node.current polygon {
  stroke: fuchsia;
  stroke-width: 2;
}

.edge:active path,
.edge:hover path,
.edge.current path,
.edge:active ellipse,
.edge:hover ellipse,
.edge.current ellipse {
  stroke: url(#edgeGradient);
  stroke-width: 3;
  stroke-opacity: 1;
}

.edge:active polygon,
.edge:hover polygon,
.edge.current polygon {
  stroke: fuchsia;
  stroke-width: 3;
  fill: fuchsia;
  stroke-opacity: 1;
  fill-opacity: 1;
}

.edge:active text,
.edge:hover text {
  fill: fuchsia;
}

.cluster path {
  stroke-width: 3;
}

.cluster:active path,
.cluster:hover path {
  fill: #ffff0011;
}

div.hint {
  background-color: #000000aa;
  color: white;
  font-family: Arial, Helvetica, sans-serif;
  border-radius: 1rem;
  position: fixed;
  top: calc(50% - 4em);
  right: calc(50% - 10em);
  border: none;
  padding: 1em 3em 1em 1em;
}

.hint button {
  position: absolute;
  font-weight: bolder;
  right: 0.6em;
  top: 0.6em;
  color: inherit;
  background-color: inherit;
  border: 1px solid currentColor;
  border-radius: 1em;
  margin-left: 0.6em;
}

.hint a {
  color: inherit;
}

#button_help {
  color: white;
  background-color: #00000011;
  border-radius: 1em;
  position: fixed;
  top: 1em;
  right: 1em;
  font-size: 24pt;
  font-weight: bolder;
  width: 2em;
  height: 2em;
  border: none;
}

#button_help:hover {
  cursor: pointer;
  background-color: #00000077;
}

@media print {
  #button_help {
    display: none;
  }

  div.hint {
    display: none;
  }
}

    </style>
  </head>
  <body>
    <button id="button_help">?</button>
    <div id="hints" class="hint" style="display: none">
      <button id="close-hints">x</button>
      <span id="hint-text"></span>
      <ul>
        <li><b>Hover</b> - highlight</li>
        <li><b>Right-click</b> - pin highlight</li>
        <li><b>ESC</b> - clear</li>
      </ul>
    </div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.0 (20241103.1931)
 -->
<!-- Title: dependency&#45;cruiser output Pages: 1 -->
<svg width="676pt" height="899pt"
 viewBox="0.00 0.00 676.00 899.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 895)">
<title>dependency&#45;cruiser output</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-895 672,-895 672,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_src</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M20,-8C20,-8 648,-8 648,-8 654,-8 660,-14 660,-20 660,-20 660,-871 660,-871 660,-877 654,-883 648,-883 648,-883 20,-883 20,-883 14,-883 8,-877 8,-871 8,-871 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="middle" x="334" y="-870.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">src</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_src/server</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M28,-16C28,-16 640,-16 640,-16 646,-16 652,-22 652,-28 652,-28 652,-844 652,-844 652,-850 646,-856 640,-856 640,-856 28,-856 28,-856 22,-856 16,-850 16,-844 16,-844 16,-28 16,-28 16,-22 22,-16 28,-16"/>
<text text-anchor="middle" x="334" y="-843.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">server</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_src/server/application</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M36,-222C36,-222 543.25,-222 543.25,-222 549.25,-222 555.25,-228 555.25,-234 555.25,-234 555.25,-609 555.25,-609 555.25,-615 549.25,-621 543.25,-621 543.25,-621 36,-621 36,-621 30,-621 24,-615 24,-609 24,-609 24,-234 24,-234 24,-228 30,-222 36,-222"/>
<text text-anchor="middle" x="289.62" y="-608.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">application</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_src/server/application/ports</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M214.25,-413C214.25,-413 535.25,-413 535.25,-413 541.25,-413 547.25,-419 547.25,-425 547.25,-425 547.25,-582 547.25,-582 547.25,-588 541.25,-594 535.25,-594 535.25,-594 214.25,-594 214.25,-594 208.25,-594 202.25,-588 202.25,-582 202.25,-582 202.25,-425 202.25,-425 202.25,-419 208.25,-413 214.25,-413"/>
<text text-anchor="middle" x="374.75" y="-581.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">ports</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_src/server/application/ports/driven</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M400.75,-421C400.75,-421 527.25,-421 527.25,-421 533.25,-421 539.25,-427 539.25,-433 539.25,-433 539.25,-555 539.25,-555 539.25,-561 533.25,-567 527.25,-567 527.25,-567 400.75,-567 400.75,-567 394.75,-567 388.75,-561 388.75,-555 388.75,-555 388.75,-433 388.75,-433 388.75,-427 394.75,-421 400.75,-421"/>
<text text-anchor="middle" x="464" y="-554.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">driven</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_src/server/application/ports/driver</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M222.25,-483C222.25,-483 348,-483 348,-483 354,-483 360,-489 360,-495 360,-495 360,-555 360,-555 360,-561 354,-567 348,-567 348,-567 222.25,-567 222.25,-567 216.25,-567 210.25,-561 210.25,-555 210.25,-555 210.25,-495 210.25,-495 210.25,-489 216.25,-483 222.25,-483"/>
<text text-anchor="middle" x="285.12" y="-554.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">driver</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_src/server/application/usecases</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M44,-256C44,-256 345.12,-256 345.12,-256 351.12,-256 357.12,-262 357.12,-268 357.12,-268 357.12,-393 357.12,-393 357.12,-399 351.12,-405 345.12,-405 345.12,-405 44,-405 44,-405 38,-405 32,-399 32,-393 32,-393 32,-268 32,-268 32,-262 38,-256 44,-256"/>
<text text-anchor="middle" x="194.56" y="-392.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">usecases</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_src/server/application/usecases/CreateCharacterUseCase</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M52,-264C52,-264 337.12,-264 337.12,-264 343.12,-264 349.12,-270 349.12,-276 349.12,-276 349.12,-305 349.12,-305 349.12,-311 343.12,-317 337.12,-317 337.12,-317 52,-317 52,-317 46,-317 40,-311 40,-305 40,-305 40,-276 40,-276 40,-270 46,-264 52,-264"/>
<text text-anchor="middle" x="194.56" y="-304.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">CreateCharacterUseCase</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_src/server/application/usecases/LoadCharactersUseCase</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M53.12,-325C53.12,-325 174.38,-325 174.38,-325 180.38,-325 186.38,-331 186.38,-337 186.38,-337 186.38,-366 186.38,-366 186.38,-372 180.38,-378 174.38,-378 174.38,-378 53.12,-378 53.12,-378 47.12,-378 41.12,-372 41.12,-366 41.12,-366 41.12,-337 41.12,-337 41.12,-331 47.12,-325 53.12,-325"/>
<text text-anchor="middle" x="113.75" y="-365.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">LoadCharactersUseCase</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_src/server/domain</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M575.25,-483C575.25,-483 632,-483 632,-483 638,-483 644,-489 644,-495 644,-495 644,-524 644,-524 644,-530 638,-536 632,-536 632,-536 575.25,-536 575.25,-536 569.25,-536 563.25,-530 563.25,-524 563.25,-524 563.25,-495 563.25,-495 563.25,-489 569.25,-483 575.25,-483"/>
<text text-anchor="middle" x="603.62" y="-523.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">domain</text>
</g>
<g id="clust11" class="cluster">
<title>cluster_src/server/infrastructure</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M206.38,-34C206.38,-34 363.88,-34 363.88,-34 369.88,-34 375.88,-40 375.88,-46 375.88,-46 375.88,-202 375.88,-202 375.88,-208 369.88,-214 363.88,-214 363.88,-214 206.38,-214 206.38,-214 200.38,-214 194.38,-208 194.38,-202 194.38,-202 194.38,-46 194.38,-46 194.38,-40 200.38,-34 206.38,-34"/>
<text text-anchor="middle" x="285.12" y="-201.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">infrastructure</text>
</g>
<g id="clust12" class="cluster">
<title>cluster_src/server/infrastructure/providers</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M235,-42C235,-42 335.25,-42 335.25,-42 341.25,-42 347.25,-48 347.25,-54 347.25,-54 347.25,-114 347.25,-114 347.25,-120 341.25,-126 335.25,-126 335.25,-126 235,-126 235,-126 229,-126 223,-120 223,-114 223,-114 223,-54 223,-54 223,-48 229,-42 235,-42"/>
<text text-anchor="middle" x="285.12" y="-113.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">providers</text>
</g>
<g id="clust13" class="cluster">
<title>cluster_src/server/infrastructure/repositories</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M214.38,-134C214.38,-134 355.88,-134 355.88,-134 361.88,-134 367.88,-140 367.88,-146 367.88,-146 367.88,-175 367.88,-175 367.88,-181 361.88,-187 355.88,-187 355.88,-187 214.38,-187 214.38,-187 208.38,-187 202.38,-181 202.38,-175 202.38,-175 202.38,-146 202.38,-146 202.38,-140 208.38,-134 214.38,-134"/>
<text text-anchor="middle" x="285.12" y="-174.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">repositories</text>
</g>
<g id="clust14" class="cluster">
<title>cluster_src/server/presentation</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M54.88,-629C54.88,-629 540.12,-629 540.12,-629 546.12,-629 552.12,-635 552.12,-641 552.12,-641 552.12,-817 552.12,-817 552.12,-823 546.12,-829 540.12,-829 540.12,-829 54.88,-829 54.88,-829 48.88,-829 42.88,-823 42.88,-817 42.88,-817 42.88,-641 42.88,-641 42.88,-635 48.88,-629 54.88,-629"/>
<text text-anchor="middle" x="297.5" y="-816.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">presentation</text>
</g>
<g id="clust15" class="cluster">
<title>cluster_src/server/presentation/controllers</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M62.88,-647C62.88,-647 164.62,-647 164.62,-647 170.62,-647 176.62,-653 176.62,-659 176.62,-659 176.62,-688 176.62,-688 176.62,-694 170.62,-700 164.62,-700 164.62,-700 62.88,-700 62.88,-700 56.87,-700 50.88,-694 50.88,-688 50.88,-688 50.88,-659 50.88,-659 50.88,-653 56.88,-647 62.88,-647"/>
<text text-anchor="middle" x="113.75" y="-687.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">controllers</text>
</g>
<g id="clust16" class="cluster">
<title>cluster_src/server/presentation/presenters</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M223,-708C223,-708 347.25,-708 347.25,-708 353.25,-708 359.25,-714 359.25,-720 359.25,-720 359.25,-780 359.25,-780 359.25,-786 353.25,-792 347.25,-792 347.25,-792 223,-792 223,-792 217,-792 211,-786 211,-780 211,-780 211,-720 211,-720 211,-714 217,-708 223,-708"/>
<text text-anchor="middle" x="285.12" y="-779.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">presenters</text>
</g>
<g id="clust17" class="cluster">
<title>cluster_src/server/presentation/requests</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M225.25,-647C225.25,-647 345,-647 345,-647 351,-647 357,-653 357,-659 357,-659 357,-688 357,-688 357,-694 351,-700 345,-700 345,-700 225.25,-700 225.25,-700 219.25,-700 213.25,-694 213.25,-688 213.25,-688 213.25,-659 213.25,-659 213.25,-653 219.25,-647 225.25,-647"/>
<text text-anchor="middle" x="285.12" y="-687.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">requests</text>
</g>
<g id="clust18" class="cluster">
<title>cluster_src/server/presentation/viewModels</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M395.88,-643C395.88,-643 532.12,-643 532.12,-643 538.12,-643 544.12,-649 544.12,-655 544.12,-655 544.12,-715 544.12,-715 544.12,-721 538.12,-727 532.12,-727 532.12,-727 395.88,-727 395.88,-727 389.88,-727 383.88,-721 383.88,-715 383.88,-715 383.88,-655 383.88,-655 383.88,-649 389.88,-643 395.88,-643"/>
<text text-anchor="middle" x="464" y="-714.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">viewModels</text>
</g>
<!-- src/server/application/ports/driven/ICharacterRepository.ts -->
<g id="node1" class="node">
<title>src/server/application/ports/driven/ICharacterRepository.ts</title>
<g id="a_node1"><a xlink:href="src/server/application/ports/driven/ICharacterRepository.ts" xlink:title="ICharacterRepository.ts">
<polygon fill="#dd1c1c" stroke="black" points="519.62,-478.25 408.38,-478.25 408.38,-459.75 519.62,-459.75 519.62,-478.25"/>
<text text-anchor="start" x="416.38" y="-465.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">ICharacterRepository.ts</text>
</a>
</g>
</g>
<!-- src/server/domain/Character.ts -->
<g id="node2" class="node">
<title>src/server/domain/Character.ts</title>
<g id="a_node2"><a xlink:href="src/server/domain/Character.ts" xlink:title="Character.ts">
<polygon fill="#dc6b0d" stroke="black" points="636,-509.25 571.25,-509.25 571.25,-490.75 636,-490.75 636,-509.25"/>
<text text-anchor="start" x="579.25" y="-496.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">Character.ts</text>
</a>
</g>
</g>
<!-- src/server/application/ports/driven/ICharacterRepository.ts&#45;&gt;src/server/domain/Character.ts -->
<g id="edge1" class="edge">
<title>src/server/application/ports/driven/ICharacterRepository.ts&#45;&gt;src/server/domain/Character.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M519.65,-477.5C531.45,-479.67 543.82,-482.19 555.25,-485 558.59,-485.82 562.05,-486.75 565.5,-487.74"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="564.73,-489.7 571.08,-489.4 565.93,-485.68 564.73,-489.7"/>
</g>
<!-- src/server/application/ports/driven/ICreateCharacterPresenter.ts -->
<g id="node3" class="node">
<title>src/server/application/ports/driven/ICreateCharacterPresenter.ts</title>
<g id="a_node3"><a xlink:href="src/server/application/ports/driven/ICreateCharacterPresenter.ts" xlink:title="ICreateCharacterPresenter.ts">
<polygon fill="#dd1c1c" stroke="black" points="531.25,-509.25 396.75,-509.25 396.75,-490.75 531.25,-490.75 531.25,-509.25"/>
<text text-anchor="start" x="404.75" y="-496.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">ICreateCharacterPresenter.ts</text>
</a>
</g>
</g>
<!-- src/server/application/ports/driven/ICreateCharacterPresenter.ts&#45;&gt;src/server/domain/Character.ts -->
<g id="edge2" class="edge">
<title>src/server/application/ports/driven/ICreateCharacterPresenter.ts&#45;&gt;src/server/domain/Character.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M531.39,-500C541.81,-500 552.3,-500 561.91,-500"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="561.8,-502.1 567.8,-500 561.8,-497.9 561.8,-502.1"/>
</g>
<!-- src/server/application/ports/driven/IIdentityProvider.ts -->
<g id="node4" class="node">
<title>src/server/application/ports/driven/IIdentityProvider.ts</title>
<g id="a_node4"><a xlink:href="src/server/application/ports/driven/IIdentityProvider.ts" xlink:title="IIdentityProvider.ts">
<polygon fill="#dd1c1c" stroke="black" points="509.12,-447.25 418.88,-447.25 418.88,-428.75 509.12,-428.75 509.12,-447.25"/>
<text text-anchor="start" x="426.88" y="-434.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">IIdentityProvider.ts</text>
</a>
</g>
</g>
<!-- src/server/application/ports/driven/ILoadCharactersPresenter.ts -->
<g id="node5" class="node">
<title>src/server/application/ports/driven/ILoadCharactersPresenter.ts</title>
<g id="a_node5"><a xlink:href="src/server/application/ports/driven/ILoadCharactersPresenter.ts" xlink:title="ILoadCharactersPresenter.ts">
<polygon fill="#dd1c1c" stroke="black" points="530.12,-540.25 397.88,-540.25 397.88,-521.75 530.12,-521.75 530.12,-540.25"/>
<text text-anchor="start" x="405.88" y="-527.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">ILoadCharactersPresenter.ts</text>
</a>
</g>
</g>
<!-- src/server/application/ports/driven/ILoadCharactersPresenter.ts&#45;&gt;src/server/domain/Character.ts -->
<g id="edge3" class="edge">
<title>src/server/application/ports/driven/ILoadCharactersPresenter.ts&#45;&gt;src/server/domain/Character.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M525.91,-521.33C535.77,-519.44 545.82,-517.32 555.25,-515 558.59,-514.18 562.05,-513.25 565.5,-512.26"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="565.93,-514.32 571.08,-510.6 564.73,-510.3 565.93,-514.32"/>
</g>
<!-- src/server/application/ports/driver/ICreateCharacterUseCase.ts -->
<g id="node6" class="node">
<title>src/server/application/ports/driver/ICreateCharacterUseCase.ts</title>
<g id="a_node6"><a xlink:href="src/server/application/ports/driver/ICreateCharacterUseCase.ts" xlink:title="ICreateCharacterUseCase.ts">
<polygon fill="#dd1c1c" stroke="black" points="352,-509.25 218.25,-509.25 218.25,-490.75 352,-490.75 352,-509.25"/>
<text text-anchor="start" x="226.25" y="-496.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">ICreateCharacterUseCase.ts</text>
</a>
</g>
</g>
<!-- src/server/application/ports/driver/ICreateCharacterUseCase.ts&#45;&gt;src/server/application/ports/driven/ICreateCharacterPresenter.ts -->
<g id="edge4" class="edge">
<title>src/server/application/ports/driver/ICreateCharacterUseCase.ts&#45;&gt;src/server/application/ports/driven/ICreateCharacterPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M352.49,-500C363.89,-500 375.82,-500 387.45,-500"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="387.24,-502.1 393.24,-500 387.24,-497.9 387.24,-502.1"/>
</g>
<!-- src/server/application/usecases/CreateCharacterUseCase/CreateCharacterDTO.ts -->
<g id="node7" class="node">
<title>src/server/application/usecases/CreateCharacterUseCase/CreateCharacterDTO.ts</title>
<g id="a_node7"><a xlink:href="src/server/application/usecases/CreateCharacterUseCase/CreateCharacterDTO.ts" xlink:title="CreateCharacterDTO.ts">
<polygon fill="#dd1c1c" stroke="black" points="341.12,-290.25 229.12,-290.25 229.12,-271.75 341.12,-271.75 341.12,-290.25"/>
<text text-anchor="start" x="237.12" y="-277.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">CreateCharacterDTO.ts</text>
</a>
</g>
</g>
<!-- src/server/application/ports/driver/ICreateCharacterUseCase.ts&#45;&gt;src/server/application/usecases/CreateCharacterUseCase/CreateCharacterDTO.ts -->
<g id="edge5" class="edge">
<title>src/server/application/ports/driver/ICreateCharacterUseCase.ts&#45;&gt;src/server/application/usecases/CreateCharacterUseCase/CreateCharacterDTO.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M285.12,-490.58C285.12,-426.86 285.12,-363.13 285.12,-299.4"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="287.23,-299.44 285.13,-293.44 283.03,-299.44 287.23,-299.44"/>
</g>
<!-- src/server/application/ports/driver/IGetCharactersUseCase.ts -->
<g id="node8" class="node">
<title>src/server/application/ports/driver/IGetCharactersUseCase.ts</title>
<g id="a_node8"><a xlink:href="src/server/application/ports/driver/IGetCharactersUseCase.ts" xlink:title="IGetCharactersUseCase.ts">
<polygon fill="#dd1c1c" stroke="black" points="347.5,-540.25 222.75,-540.25 222.75,-521.75 347.5,-521.75 347.5,-540.25"/>
<text text-anchor="start" x="230.75" y="-527.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">IGetCharactersUseCase.ts</text>
</a>
</g>
</g>
<!-- src/server/application/ports/driver/IGetCharactersUseCase.ts&#45;&gt;src/server/application/ports/driven/ILoadCharactersPresenter.ts -->
<g id="edge6" class="edge">
<title>src/server/application/ports/driver/IGetCharactersUseCase.ts&#45;&gt;src/server/application/ports/driven/ILoadCharactersPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M347.99,-531C361.14,-531 375.17,-531 388.73,-531"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="388.54,-533.1 394.54,-531 388.54,-528.9 388.54,-533.1"/>
</g>
<!-- src/server/application/usecases/CreateCharacterUseCase/CreateCharacterUseCase.ts -->
<g id="node9" class="node">
<title>src/server/application/usecases/CreateCharacterUseCase/CreateCharacterUseCase.ts</title>
<g id="a_node9"><a xlink:href="src/server/application/usecases/CreateCharacterUseCase/CreateCharacterUseCase.ts" xlink:title="CreateCharacterUseCase.ts">
<polygon fill="#dd1c1c" stroke="black" points="179.5,-290.25 48,-290.25 48,-271.75 179.5,-271.75 179.5,-290.25"/>
<text text-anchor="start" x="56" y="-277.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">CreateCharacterUseCase.ts</text>
</a>
</g>
</g>
<!-- src/server/application/usecases/CreateCharacterUseCase/CreateCharacterUseCase.ts&#45;&gt;src/server/application/ports/driven/ICharacterRepository.ts -->
<g id="edge7" class="edge">
<title>src/server/application/usecases/CreateCharacterUseCase/CreateCharacterUseCase.ts&#45;&gt;src/server/application/ports/driven/ICharacterRepository.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M137.96,-271.27C153.59,-265.25 174.84,-258.11 194.38,-255 234.21,-248.66 346.79,-227.06 375.88,-255 391.76,-270.25 369.59,-436.24 383.88,-453 388.19,-458.06 393.62,-461.79 399.61,-464.52"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="398.87,-466.49 405.22,-466.59 400.32,-462.55 398.87,-466.49"/>
</g>
<!-- src/server/application/usecases/CreateCharacterUseCase/CreateCharacterUseCase.ts&#45;&gt;src/server/domain/Character.ts -->
<g id="edge12" class="edge">
<title>src/server/application/usecases/CreateCharacterUseCase/CreateCharacterUseCase.ts&#45;&gt;src/server/domain/Character.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M114.35,-271.37C113.4,-233.77 115.55,-96.05 194.38,-39 259.72,8.29 301.42,-7.96 375.88,-39 480.41,-82.58 503.53,-119.24 555.25,-220 601.29,-309.69 604.01,-434.76 603.23,-481.45"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="601.14,-481.34 603.1,-487.39 605.34,-481.44 601.14,-481.34"/>
</g>
<!-- src/server/application/usecases/CreateCharacterUseCase/CreateCharacterUseCase.ts&#45;&gt;src/server/application/ports/driven/ICreateCharacterPresenter.ts -->
<g id="edge8" class="edge">
<title>src/server/application/usecases/CreateCharacterUseCase/CreateCharacterUseCase.ts&#45;&gt;src/server/application/ports/driven/ICreateCharacterPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M158.35,-271.27C169.99,-269.09 182.61,-267.1 194.38,-266 234.53,-262.25 346.84,-238.01 375.88,-266 393.33,-282.82 368.19,-465.52 383.88,-484 385.53,-485.95 387.36,-487.71 389.32,-489.29"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="387.76,-490.77 393.92,-492.32 390.07,-487.26 387.76,-490.77"/>
</g>
<!-- src/server/application/usecases/CreateCharacterUseCase/CreateCharacterUseCase.ts&#45;&gt;src/server/application/ports/driven/IIdentityProvider.ts -->
<g id="edge9" class="edge">
<title>src/server/application/usecases/CreateCharacterUseCase/CreateCharacterUseCase.ts&#45;&gt;src/server/application/ports/driven/IIdentityProvider.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M128.93,-271.3C144.27,-261.44 169.84,-246.82 194.38,-241 272.87,-222.39 308.28,-196.98 375.88,-241 438.41,-281.72 456.39,-378.65 461.28,-419.43"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="459.18,-419.55 461.92,-425.29 463.36,-419.1 459.18,-419.55"/>
</g>
<!-- src/server/application/usecases/CreateCharacterUseCase/CreateCharacterUseCase.ts&#45;&gt;src/server/application/ports/driver/ICreateCharacterUseCase.ts -->
<g id="edge10" class="edge">
<title>src/server/application/usecases/CreateCharacterUseCase/CreateCharacterUseCase.ts&#45;&gt;src/server/application/ports/driver/ICreateCharacterUseCase.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M138.88,-290.73C153.93,-297.71 172.92,-308.3 186.38,-322 234.23,-370.71 265.63,-447.61 278.08,-482.16"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="275.98,-482.53 279.95,-487.5 279.95,-481.14 275.98,-482.53"/>
</g>
<!-- src/server/application/usecases/CreateCharacterUseCase/CreateCharacterUseCase.ts&#45;&gt;src/server/application/usecases/CreateCharacterUseCase/CreateCharacterDTO.ts -->
<g id="edge11" class="edge">
<title>src/server/application/usecases/CreateCharacterUseCase/CreateCharacterUseCase.ts&#45;&gt;src/server/application/usecases/CreateCharacterUseCase/CreateCharacterDTO.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M179.75,-281C192.86,-281 206.64,-281 219.74,-281"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="219.65,-283.1 225.65,-281 219.65,-278.9 219.65,-283.1"/>
</g>
<!-- src/server/application/usecases/LoadCharactersUseCase/LoadCharactersUseCase.ts -->
<g id="node10" class="node">
<title>src/server/application/usecases/LoadCharactersUseCase/LoadCharactersUseCase.ts</title>
<g id="a_node10"><a xlink:href="src/server/application/usecases/LoadCharactersUseCase/LoadCharactersUseCase.ts" xlink:title="LoadCharactersUseCase.ts">
<polygon fill="#dd1c1c" stroke="black" points="178.38,-351.25 49.12,-351.25 49.12,-332.75 178.38,-332.75 178.38,-351.25"/>
<text text-anchor="start" x="57.12" y="-338.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">LoadCharactersUseCase.ts</text>
</a>
</g>
</g>
<!-- src/server/application/usecases/LoadCharactersUseCase/LoadCharactersUseCase.ts&#45;&gt;src/server/application/ports/driven/ICharacterRepository.ts -->
<g id="edge13" class="edge">
<title>src/server/application/usecases/LoadCharactersUseCase/LoadCharactersUseCase.ts&#45;&gt;src/server/application/ports/driven/ICharacterRepository.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M169.76,-351.7C226.57,-364.05 315.24,-390.05 375.88,-440 381.11,-444.31 378.31,-449.12 383.88,-453 388.74,-456.4 394.16,-459.11 399.82,-461.26"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="399.01,-463.21 405.36,-463.1 400.33,-459.22 399.01,-463.21"/>
</g>
<!-- src/server/application/usecases/LoadCharactersUseCase/LoadCharactersUseCase.ts&#45;&gt;src/server/application/ports/driven/ILoadCharactersPresenter.ts -->
<g id="edge14" class="edge">
<title>src/server/application/usecases/LoadCharactersUseCase/LoadCharactersUseCase.ts&#45;&gt;src/server/application/ports/driven/ILoadCharactersPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M125.46,-351.63C140.19,-364.53 167.89,-387.57 194.38,-403 270.09,-447.11 319.62,-412.82 375.88,-480 386.12,-492.23 372.45,-503.86 383.88,-515 385.76,-516.83 387.79,-518.49 389.93,-519.97"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="388.77,-521.72 395.02,-522.9 390.86,-518.08 388.77,-521.72"/>
</g>
<!-- src/server/application/usecases/LoadCharactersUseCase/LoadCharactersUseCase.ts&#45;&gt;src/server/application/ports/driver/IGetCharactersUseCase.ts -->
<g id="edge15" class="edge">
<title>src/server/application/usecases/LoadCharactersUseCase/LoadCharactersUseCase.ts&#45;&gt;src/server/application/ports/driver/IGetCharactersUseCase.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M116.02,-351.36C120.53,-380.77 138.65,-471.94 194.38,-515 200.23,-519.52 206.93,-522.93 213.98,-525.47"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="213.14,-527.41 219.5,-527.18 214.39,-523.4 213.14,-527.41"/>
</g>
<!-- src/server/infrastructure/providers/FakeIdentityProvider.ts -->
<g id="node11" class="node">
<title>src/server/infrastructure/providers/FakeIdentityProvider.ts</title>
<g id="a_node11"><a xlink:href="src/server/infrastructure/providers/FakeIdentityProvider.ts" xlink:title="FakeIdentityProvider.ts">
<polygon fill="#248cea" stroke="black" points="339.25,-68.25 231,-68.25 231,-49.75 339.25,-49.75 339.25,-68.25"/>
<text text-anchor="start" x="239" y="-55.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">FakeIdentityProvider.ts</text>
</a>
</g>
</g>
<!-- src/server/infrastructure/providers/FakeIdentityProvider.ts&#45;&gt;src/server/application/ports/driven/IIdentityProvider.ts -->
<g id="edge16" class="edge">
<title>src/server/infrastructure/providers/FakeIdentityProvider.ts&#45;&gt;src/server/application/ports/driven/IIdentityProvider.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M339.66,-58.53C352.9,-60.91 366.09,-65.77 375.88,-75 427.35,-123.51 454.38,-353.18 461.23,-419.83"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="459.11,-419.66 461.8,-425.42 463.29,-419.24 459.11,-419.66"/>
</g>
<!-- src/server/infrastructure/providers/UuidIdentityProvider.ts -->
<g id="node12" class="node">
<title>src/server/infrastructure/providers/UuidIdentityProvider.ts</title>
<g id="a_node12"><a xlink:href="src/server/infrastructure/providers/UuidIdentityProvider.ts" xlink:title="UuidIdentityProvider.ts">
<polygon fill="#248cea" stroke="black" points="338.88,-99.25 231.38,-99.25 231.38,-80.75 338.88,-80.75 338.88,-99.25"/>
<text text-anchor="start" x="239.38" y="-86.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">UuidIdentityProvider.ts</text>
</a>
</g>
</g>
<!-- src/server/infrastructure/providers/UuidIdentityProvider.ts&#45;&gt;src/server/application/ports/driven/IIdentityProvider.ts -->
<g id="edge17" class="edge">
<title>src/server/infrastructure/providers/UuidIdentityProvider.ts&#45;&gt;src/server/application/ports/driven/IIdentityProvider.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M325.22,-99.69C342.95,-105.92 362.82,-115.79 375.88,-131 451.31,-218.87 461.64,-367.92 462.9,-419.66"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="460.79,-419.42 462.99,-425.38 464.99,-419.35 460.79,-419.42"/>
</g>
<!-- src/server/infrastructure/repositories/InMemoryCharacterRepository.ts -->
<g id="node13" class="node">
<title>src/server/infrastructure/repositories/InMemoryCharacterRepository.ts</title>
<g id="a_node13"><a xlink:href="src/server/infrastructure/repositories/InMemoryCharacterRepository.ts" xlink:title="InMemoryCharacterRepository.ts">
<polygon fill="#248cea" stroke="black" points="359.88,-160.25 210.38,-160.25 210.38,-141.75 359.88,-141.75 359.88,-160.25"/>
<text text-anchor="start" x="218.38" y="-147.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">InMemoryCharacterRepository.ts</text>
</a>
</g>
</g>
<!-- src/server/infrastructure/repositories/InMemoryCharacterRepository.ts&#45;&gt;src/server/application/ports/driven/ICharacterRepository.ts -->
<g id="edge18" class="edge">
<title>src/server/infrastructure/repositories/InMemoryCharacterRepository.ts&#45;&gt;src/server/application/ports/driven/ICharacterRepository.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M301.32,-160.7C322.51,-175.21 360.1,-204.79 375.88,-241 385.29,-262.61 368.61,-435.04 383.88,-453 388.18,-458.07 393.61,-461.8 399.59,-464.53"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="398.85,-466.5 405.21,-466.61 400.31,-462.56 398.85,-466.5"/>
</g>
<!-- src/server/infrastructure/repositories/InMemoryCharacterRepository.ts&#45;&gt;src/server/domain/Character.ts -->
<g id="edge19" class="edge">
<title>src/server/infrastructure/repositories/InMemoryCharacterRepository.ts&#45;&gt;src/server/domain/Character.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M302.21,-160.65C320.85,-172.19 352.06,-192.65 375.88,-214 465.78,-294.58 484.85,-319.92 555.25,-418 570.44,-439.16 584.97,-465.52 593.84,-482.55"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="591.94,-483.46 596.55,-487.84 595.68,-481.54 591.94,-483.46"/>
</g>
<!-- src/server/presentation/controllers/CharactersController.ts -->
<g id="node14" class="node">
<title>src/server/presentation/controllers/CharactersController.ts</title>
<g id="a_node14"><a xlink:href="src/server/presentation/controllers/CharactersController.ts" xlink:title="CharactersController.ts">
<polygon fill="#20b520" stroke="black" points="168.62,-673.25 58.88,-673.25 58.88,-654.75 168.62,-654.75 168.62,-673.25"/>
<text text-anchor="start" x="66.88" y="-660.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">CharactersController.ts</text>
</a>
</g>
</g>
<!-- src/server/presentation/controllers/CharactersController.ts&#45;&gt;src/server/application/ports/driver/ICreateCharacterUseCase.ts -->
<g id="edge20" class="edge">
<title>src/server/presentation/controllers/CharactersController.ts&#45;&gt;src/server/application/ports/driver/ICreateCharacterUseCase.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M116.82,-654.48C123.17,-627.78 144.99,-551.77 194.38,-516 199.11,-512.57 204.35,-509.8 209.85,-507.56"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="210.25,-509.65 215.21,-505.67 208.85,-505.69 210.25,-509.65"/>
</g>
<!-- src/server/presentation/controllers/CharactersController.ts&#45;&gt;src/server/application/ports/driver/IGetCharactersUseCase.ts -->
<g id="edge21" class="edge">
<title>src/server/presentation/controllers/CharactersController.ts&#45;&gt;src/server/application/ports/driver/IGetCharactersUseCase.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M126.93,-654.43C156.11,-631.53 230.16,-573.37 265.2,-545.86"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="266.25,-547.71 269.67,-542.35 263.66,-544.4 266.25,-547.71"/>
</g>
<!-- src/server/presentation/presenters/CreateCharacterPresenter.ts -->
<g id="node15" class="node">
<title>src/server/presentation/presenters/CreateCharacterPresenter.ts</title>
<g id="a_node15"><a xlink:href="src/server/presentation/presenters/CreateCharacterPresenter.ts" xlink:title="CreateCharacterPresenter.ts">
<polygon fill="#20b520" stroke="black" points="351.25,-734.25 219,-734.25 219,-715.75 351.25,-715.75 351.25,-734.25"/>
<text text-anchor="start" x="227" y="-721.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">CreateCharacterPresenter.ts</text>
</a>
</g>
</g>
<!-- src/server/presentation/controllers/CharactersController.ts&#45;&gt;src/server/presentation/presenters/CreateCharacterPresenter.ts -->
<g id="edge22" class="edge">
<title>src/server/presentation/controllers/CharactersController.ts&#45;&gt;src/server/presentation/presenters/CreateCharacterPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M131.68,-673.62C147.49,-682.28 171.95,-694.87 194.38,-703 205.07,-706.88 216.73,-710.3 228,-713.21"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="227.24,-715.19 233.57,-714.61 228.26,-711.12 227.24,-715.19"/>
</g>
<!-- src/server/presentation/presenters/LoadCharactersPresenter.ts -->
<g id="node16" class="node">
<title>src/server/presentation/presenters/LoadCharactersPresenter.ts</title>
<g id="a_node16"><a xlink:href="src/server/presentation/presenters/LoadCharactersPresenter.ts" xlink:title="LoadCharactersPresenter.ts">
<polygon fill="#20b520" stroke="black" points="350.12,-765.25 220.12,-765.25 220.12,-746.75 350.12,-746.75 350.12,-765.25"/>
<text text-anchor="start" x="228.12" y="-752.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">LoadCharactersPresenter.ts</text>
</a>
</g>
</g>
<!-- src/server/presentation/controllers/CharactersController.ts&#45;&gt;src/server/presentation/presenters/LoadCharactersPresenter.ts -->
<g id="edge23" class="edge">
<title>src/server/presentation/controllers/CharactersController.ts&#45;&gt;src/server/presentation/presenters/LoadCharactersPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M121.64,-673.54C134.11,-690.03 162.16,-723.67 194.38,-740 199.69,-742.69 205.38,-744.94 211.22,-746.81"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="210.6,-748.82 216.95,-748.46 211.76,-744.79 210.6,-748.82"/>
</g>
<!-- src/server/presentation/requests/CreateCharacterRequest.ts -->
<g id="node17" class="node">
<title>src/server/presentation/requests/CreateCharacterRequest.ts</title>
<g id="a_node17"><a xlink:href="src/server/presentation/requests/CreateCharacterRequest.ts" xlink:title="CreateCharacterRequest.ts">
<polygon fill="#20b520" stroke="black" points="349,-673.25 221.25,-673.25 221.25,-654.75 349,-654.75 349,-673.25"/>
<text text-anchor="start" x="229.25" y="-660.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">CreateCharacterRequest.ts</text>
</a>
</g>
</g>
<!-- src/server/presentation/controllers/CharactersController.ts&#45;&gt;src/server/presentation/requests/CreateCharacterRequest.ts -->
<g id="edge24" class="edge">
<title>src/server/presentation/controllers/CharactersController.ts&#45;&gt;src/server/presentation/requests/CreateCharacterRequest.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M168.81,-664C182.52,-664 197.46,-664 211.92,-664"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="211.81,-666.1 217.81,-664 211.81,-661.9 211.81,-666.1"/>
</g>
<!-- src/server/presentation/viewModels/CharacterViewModel.ts -->
<g id="node18" class="node">
<title>src/server/presentation/viewModels/CharacterViewModel.ts</title>
<g id="a_node18"><a xlink:href="src/server/presentation/viewModels/CharacterViewModel.ts" xlink:title="CharacterViewModel.ts">
<polygon fill="#20b520" stroke="black" points="519.62,-700.25 408.38,-700.25 408.38,-681.75 519.62,-681.75 519.62,-700.25"/>
<text text-anchor="start" x="416.38" y="-687.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">CharacterViewModel.ts</text>
</a>
</g>
</g>
<!-- src/server/presentation/controllers/CharactersController.ts&#45;&gt;src/server/presentation/viewModels/CharacterViewModel.ts -->
<g id="edge25" class="edge">
<title>src/server/presentation/controllers/CharactersController.ts&#45;&gt;src/server/presentation/viewModels/CharacterViewModel.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M117.11,-673.59C123.93,-699.01 146.36,-767.99 194.38,-795 264.68,-834.54 302.78,-829.12 375.88,-795 414.25,-777.09 441.7,-733.03 454.64,-708.4"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="456.4,-709.57 457.24,-703.27 452.65,-707.67 456.4,-709.57"/>
</g>
<!-- src/server/presentation/viewModels/CreatedCharacterViewModel.ts -->
<g id="node19" class="node">
<title>src/server/presentation/viewModels/CreatedCharacterViewModel.ts</title>
<g id="a_node19"><a xlink:href="src/server/presentation/viewModels/CreatedCharacterViewModel.ts" xlink:title="CreatedCharacterViewModel.ts">
<polygon fill="#20b520" stroke="black" points="536.12,-669.25 391.88,-669.25 391.88,-650.75 536.12,-650.75 536.12,-669.25"/>
<text text-anchor="start" x="399.88" y="-656.7" font-family="Helvetica,sans-Serif" font-size="9.00" fill="white">CreatedCharacterViewModel.ts</text>
</a>
</g>
</g>
<!-- src/server/presentation/controllers/CharactersController.ts&#45;&gt;src/server/presentation/viewModels/CreatedCharacterViewModel.ts -->
<g id="edge26" class="edge">
<title>src/server/presentation/controllers/CharactersController.ts&#45;&gt;src/server/presentation/viewModels/CreatedCharacterViewModel.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M145.8,-654.31C160.39,-650.25 178.11,-646.01 194.38,-644 274.43,-634.1 295.54,-636.68 375.88,-644 386.99,-645.01 398.81,-646.74 410.04,-648.69"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="409.64,-650.75 415.91,-649.75 410.38,-646.62 409.64,-650.75"/>
</g>
<!-- src/server/presentation/presenters/CreateCharacterPresenter.ts&#45;&gt;src/server/domain/Character.ts -->
<g id="edge28" class="edge">
<title>src/server/presentation/presenters/CreateCharacterPresenter.ts&#45;&gt;src/server/domain/Character.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M345.8,-734.72C415.24,-744.59 524.37,-755.17 555.25,-730 588.14,-703.2 598.86,-567.96 601.72,-518.31"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="603.81,-518.71 602.03,-512.6 599.61,-518.48 603.81,-518.71"/>
</g>
<!-- src/server/presentation/presenters/CreateCharacterPresenter.ts&#45;&gt;src/server/application/ports/driven/ICreateCharacterPresenter.ts -->
<g id="edge27" class="edge">
<title>src/server/presentation/presenters/CreateCharacterPresenter.ts&#45;&gt;src/server/application/ports/driven/ICreateCharacterPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M351.32,-719.67C360.78,-716.12 369.47,-710.82 375.88,-703 389.06,-686.92 370.37,-531.81 383.88,-516 385.54,-514.05 387.37,-512.3 389.33,-510.73"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="390.08,-512.75 393.95,-507.7 387.78,-509.24 390.08,-512.75"/>
</g>
<!-- src/server/presentation/presenters/CreateCharacterPresenter.ts&#45;&gt;src/server/presentation/viewModels/CreatedCharacterViewModel.ts -->
<g id="edge29" class="edge">
<title>src/server/presentation/presenters/CreateCharacterPresenter.ts&#45;&gt;src/server/presentation/viewModels/CreatedCharacterViewModel.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M351.6,-717.57C360.56,-714.22 369.02,-709.53 375.88,-703 384.93,-694.36 374.64,-684.45 383.88,-676 384.38,-675.54 384.89,-675.09 385.42,-674.65"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="386.47,-676.47 390.19,-671.32 384.07,-673.03 386.47,-676.47"/>
</g>
<!-- src/server/presentation/presenters/LoadCharactersPresenter.ts&#45;&gt;src/server/domain/Character.ts -->
<g id="edge31" class="edge">
<title>src/server/presentation/presenters/LoadCharactersPresenter.ts&#45;&gt;src/server/domain/Character.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M318.5,-765.65C374.21,-780.07 488.64,-799.8 555.25,-742 589.04,-712.67 599.24,-569.9 601.84,-518.49"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="603.92,-518.86 602.11,-512.77 599.73,-518.66 603.92,-518.86"/>
</g>
<!-- src/server/presentation/presenters/LoadCharactersPresenter.ts&#45;&gt;src/server/application/ports/driven/ILoadCharactersPresenter.ts -->
<g id="edge30" class="edge">
<title>src/server/presentation/presenters/LoadCharactersPresenter.ts&#45;&gt;src/server/application/ports/driven/ILoadCharactersPresenter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M350.36,-755.16C360.05,-752.25 369.07,-747.5 375.88,-740 390.86,-723.49 376.15,-660.91 383.88,-640 397.65,-602.72 428.01,-566.9 446.86,-547.03"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="448.23,-548.63 450.9,-542.86 445.21,-545.71 448.23,-548.63"/>
</g>
<!-- src/server/presentation/presenters/LoadCharactersPresenter.ts&#45;&gt;src/server/presentation/viewModels/CharacterViewModel.ts -->
<g id="edge32" class="edge">
<title>src/server/presentation/presenters/LoadCharactersPresenter.ts&#45;&gt;src/server/presentation/viewModels/CharacterViewModel.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M350.55,-747.22C359.19,-745.27 367.83,-742.89 375.88,-740 399.81,-731.41 424.9,-716.6 441.97,-705.5"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="442.85,-707.44 446.69,-702.37 440.53,-703.94 442.85,-707.44"/>
</g>
</g>
</svg>
    <script>
      var gMode = new Mode();

var title2ElementMap = (function makeElementMap() {
  /** @type {NodeListOf<SVGGElement>} */
  var nodes = document.querySelectorAll(".node");
  /** @type {NodeListOf<SVGGElement>} */
  var edges = document.querySelectorAll(".edge");
  return new Title2ElementMap(edges, nodes);
})();

function getHoverHandler(pTitle2ElementMap) {
  /** @type {string} */
  var currentHighlightedTitle = "";

  /** @param {MouseEvent} pMouseEvent */
  return function hoverHighlightHandler(pMouseEvent) {
    var closestNodeOrEdge = pMouseEvent.target.closest(".edge, .node");
    var closestTitleText = getTitleText(closestNodeOrEdge);

    if (
      !(currentHighlightedTitle === closestTitleText) &&
      gMode.get() === gMode.HOVER
    ) {
      resetNodesAndEdges();
      addHighlight(closestNodeOrEdge);
      pTitle2ElementMap.get(closestTitleText).forEach(addHighlight);
      currentHighlightedTitle = closestTitleText;
    }
  };
}

function getSelectHandler(pTitle2ElementMap) {
  /** @type {string} */
  var currentHighlightedTitle = "";

  /** @param {MouseEvent} pMouseEvent */
  return function selectHighlightHandler(pMouseEvent) {
    pMouseEvent.preventDefault();

    var closestNodeOrEdge = pMouseEvent.target.closest(".edge, .node");
    var closestTitleText = getTitleText(closestNodeOrEdge);

    if (!!closestNodeOrEdge) {
      gMode.setToSelect();
    } else {
      gMode.setToHover();
    }
    if (!(currentHighlightedTitle === closestTitleText)) {
      resetNodesAndEdges();
      addHighlight(closestNodeOrEdge);
      pTitle2ElementMap.get(closestTitleText).forEach(addHighlight);
      currentHighlightedTitle = closestTitleText;
    }
  };
}
function Mode() {
  var HOVER = 1;
  var SELECT = 2;

  function setToHover() {
    this._mode = HOVER;
  }
  function setToSelect() {
    this._mode = SELECT;
  }

  /**
   * @returns {number}
   */
  function get() {
    return this._mode || HOVER;
  }

  return {
    HOVER: HOVER,
    SELECT: SELECT,
    setToHover: setToHover,
    setToSelect: setToSelect,
    get: get,
  };
}

/**
 *
 * @param {SVGGelement[]} pEdges
 * @param {SVGGElement[]} pNodes
 * @return {{get: (pTitleText:string) => SVGGElement[]}}
 */
function Title2ElementMap(pEdges, pNodes) {
  /* {{[key: string]: SVGGElement[]}} */
  var elementMap = buildMap(pEdges, pNodes);

  /**
   * @param {NodeListOf<SVGGElement>} pEdges
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement[]}}
   */
  function buildMap(pEdges, pNodes) {
    var title2NodeMap = buildTitle2NodeMap(pNodes);

    return nodeListToArray(pEdges).reduce(addEdgeToMap(title2NodeMap), {});
  }
  /**
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement}}
   */
  function buildTitle2NodeMap(pNodes) {
    return nodeListToArray(pNodes).reduce(addNodeToMap, {});
  }

  function addNodeToMap(pMap, pNode) {
    var titleText = getTitleText(pNode);

    if (titleText) {
      pMap[titleText] = pNode;
    }
    return pMap;
  }

  function addEdgeToMap(pNodeMap) {
    return function (pEdgeMap, pEdge) {
      /** @type {string} */
      var titleText = getTitleText(pEdge);

      if (titleText) {
        var edge = pryEdgeFromTitle(titleText);

        pEdgeMap[titleText] = [pNodeMap[edge.from], pNodeMap[edge.to]];
        (pEdgeMap[edge.from] || (pEdgeMap[edge.from] = [])).push(pEdge);
        (pEdgeMap[edge.to] || (pEdgeMap[edge.to] = [])).push(pEdge);
      }
      return pEdgeMap;
    };
  }

  /**
   *
   * @param {string} pString
   * @return {{from?: string; to?:string;}}
   */
  function pryEdgeFromTitle(pString) {
    var nodeNames = pString.split(/\s*->\s*/);

    return {
      from: nodeNames.shift(),
      to: nodeNames.shift(),
    };
  }
  /**
   *
   * @param {string} pTitleText
   * @return {SVGGElement[]}
   */
  function get(pTitleText) {
    return (pTitleText && elementMap[pTitleText]) || [];
  }
  return {
    get: get,
  };
}

/**
 * @param {SVGGElement} pGElement
 * @return {string?}
 */
function getTitleText(pGElement) {
  /** @type {SVGTitleElement} */
  var title = pGElement && pGElement.querySelector("title");
  /** @type {string} */
  var titleText = title && title.textContent;

  if (titleText) {
    titleText = titleText.trim();
  }
  return titleText;
}

/**
 * @param {NodeListOf<Element>} pNodeList
 * @return {Element[]}
 */
function nodeListToArray(pNodeList) {
  var lReturnValue = [];

  pNodeList.forEach(function (pElement) {
    lReturnValue.push(pElement);
  });

  return lReturnValue;
}

function resetNodesAndEdges() {
  nodeListToArray(document.querySelectorAll(".current")).forEach(
    removeHighlight,
  );
}

/**
 * @param {SVGGElement} pGElement
 */
function removeHighlight(pGElement) {
  if (pGElement && pGElement.classList) {
    pGElement.classList.remove("current");
  }
}

/**
 * @param {SVGGElement} pGroup
 */
function addHighlight(pGroup) {
  if (pGroup && pGroup.classList) {
    pGroup.classList.add("current");
  }
}

var gHints = {
  HIDDEN: 1,
  SHOWN: 2,
  state: this.HIDDEN,
  show: function () {
    document.getElementById("hints").removeAttribute("style");
    gHints.state = gHints.SHOWN;
  },
  hide: function () {
    document.getElementById("hints").style = "display:none";
    gHints.state = gHints.HIDDEN;
  },
  toggle: function () {
    if ((gHints.state || gHints.HIDDEN) === gHints.HIDDEN) {
      gHints.show();
    } else {
      gHints.hide();
    }
  },
};

/** @param {KeyboardEvent} pKeyboardEvent */
function keyboardEventHandler(pKeyboardEvent) {
  if (pKeyboardEvent.key === "Escape") {
    resetNodesAndEdges();
    gMode.setToHover();
    gHints.hide();
  }
  if (pKeyboardEvent.key === "F1") {
    pKeyboardEvent.preventDefault();
    gHints.toggle();
  }
}

document.addEventListener("contextmenu", getSelectHandler(title2ElementMap));
document.addEventListener("mouseover", getHoverHandler(title2ElementMap));
document.addEventListener("keydown", keyboardEventHandler);
document.getElementById("close-hints").addEventListener("click", gHints.hide);
document.getElementById("button_help").addEventListener("click", gHints.toggle);
document.querySelector("svg").insertAdjacentHTML(
  "afterbegin",
  `<linearGradient id="edgeGradient">
      <stop offset="0%" stop-color="fuchsia"/>
      <stop offset="100%" stop-color="purple"/>
   </linearGradient>
  `,
);

// Add a small increment to the last value of the path to make gradients on
// horizontal paths work. Without them all browsers I tested with (firefox,
// chrome) do not render the gradient, but instead make the line transparent
// (or the color of the background, I haven't looked into it that deeply,
// but for the hack it doesn't matter which).
function skewLineABit(lDrawingInstructions) {
  var lLastValue = lDrawingInstructions.match(/(\d+\.?\d*)$/)[0];
  // Smaller values than .001 _should_ work as well, but don't in all
  // cases. Even this value is so small that it is not visible to the
  // human eye (tested with the two I have at my disposal).
  var lIncrement = 0.001;
  var lNewLastValue = parseFloat(lLastValue) + lIncrement;

  return lDrawingInstructions.replace(lLastValue, lNewLastValue);
}

nodeListToArray(document.querySelectorAll("path"))
  .filter(function (pElement) {
    return pElement.parentElement.classList.contains("edge");
  })
  .forEach(function (pElement) {
    pElement.attributes.d.value = skewLineABit(pElement.attributes.d.value);
  });

    </script>
  </body>
</html>
